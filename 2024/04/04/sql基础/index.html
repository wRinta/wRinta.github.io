<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="Elora">
    
    <title>
        
            sql基础 |
        
        Elora blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
        <link rel="shortcut icon" href="/images/icon16.png">
    
    
<link rel="stylesheet" href="/font/css/fontawesome.min.css">

    
<link rel="stylesheet" href="/font/css/regular.min.css">

    
<link rel="stylesheet" href="/font/css/solid.min.css">

    
<link rel="stylesheet" href="/font/css/brands.min.css">

    
    <script class="keep-theme-configurations">
    const KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"en","path":"search.json"}
    KEEP.theme_config = {"base_info":{"primary_color":"#ffe8e9","title":"Elora blog","author":"Elora","avatar":"/images/icon40.png","logo":"/images/icon40.png","favicon":"/images/icon16.png"},"menu":{"home":"/ || fa-solid fa-home","archives":"/archives || fa-solid fa-box-archive","tags":"/tags || fa-solid fa-tags","categories":"/categories || fa-solid fa-layer-group"},"first_screen":{"enable":true,"background_img":"/images/pmgroup.png","background_img_dark":"/images/pmgroup.png","description":"Heroes never die!","hitokoto":false},"social_contact":{"enable":true,"links":{"github":"https://github.com/wRinta","weixin":"img | /images/wechat.png","qq":null,"weibo":null,"zhihu":null,"twitter":null,"x":null,"facebook":null,"email":"wsq1357812@163.com"}},"scroll":{"progress_bar":true,"percent":true,"hide_header":true},"home":{"announcement":"评论没有实时通知！","category":true,"tag":true,"post_datetime":"updated || fa-solid fa-hourglass-start","post_datetime_format":"YYYY-MM-DD HH:mm:ss"},"post":{"author_badge":{"enable":true,"level_badge":false,"custom_badge":["Rinta!"]},"word_count":{"wordcount":true,"min2read":true},"datetime_format":"YYYY-MM-DD HH:mm:ss","copyright_info":true,"share":true,"reward":{"enable":true,"img_link":"/images/reward.png","text":"请作者喝奶茶","img_align":"right"}},"code_block":{"tools":{"enable":true,"style":"mac"},"highlight_theme":"default"},"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true,"layout":"left"},"website_count":{"busuanzi_count":{"enable":true,"site_uv":true,"site_pv":true,"page_pv":true}},"local_search":{"enable":true,"preload":true},"comment":{"enable":true,"use":"valine","valine":{"appid":"oKezB5PXBe6SFd75Ab2I1igt-gzGzoHsz","appkey":"ZyjE4IekdBOYhHEQyVhPqWf9","server_urls":null,"placeholder":"say something.."},"gitalk":{"github_id":"wRinta","github_admins":null,"repository":"repoforcomment","client_id":"78ba639dca276f6befb3","client_secret":"d893b8494166a18989ce599c8e362ccc307f3be9","proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.21"},"waline":{"server_url":null,"reaction":false,"version":2},"giscus":{"repo":null,"repo_id":null,"category":"Announcements","category_id":null,"reactions_enabled":false},"artalk":{"server":null},"disqus":{"shortname":null}},"rss":{"enable":false},"lazyload":{"enable":true},"cdn":{"enable":false,"provider":"cdnjs"},"pjax":{"enable":true},"footer":{"since":2020,"word_count":true,"icp":{"enable":false,"record_code":null,"url":"https://beian.miit.gov.cn"},"site_deploy":{"enable":true,"provider":"github","url":null},"shields_style":{"enable":false,"custom":[{"link_url":null,"img_url":null}]}},"inject":{"enable":false,"css":[null],"js":[null]},"root":"","source_data":{},"version":"4.1.0"}
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"}
    KEEP.language_code_block = {"copy":"Copy code","copied":"Copied","fold":"Fold code block","folded":"Folded"}
    KEEP.language_copy_copyright = {"copy":"Copy copyright info","copied":"Copied","title":"Original post title","author":"Original post author","link":"Original post link"}
  </script>
<meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="hexo" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i>
    
</div>



<main class="page-container border-box">
    <!-- home first screen  -->
    

    <!-- page content -->
    <div class="page-main-content border-box">
        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="border-box header-content">
        <div class="left border-box">
            
                <a class="logo-image border-box" href="/">
                    <img src="/images/icon40.png">
                </a>
            
            <a class="site-name border-box" href="/">
               Elora blog
            </a>
        </div>

        <div class="right border-box">
            <div class="pc">
                <ul class="menu-list">
                    
                        
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                
                                    <i class="menu-icon fa-solid fa-home"></i>
                                
                                HOME
                            </a>
                        </li>
                    
                        
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                
                                    <i class="menu-icon fa-solid fa-box-archive"></i>
                                
                                ARCHIVES
                            </a>
                        </li>
                    
                        
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                
                                    <i class="menu-icon fa-solid fa-tags"></i>
                                
                                TAGS
                            </a>
                        </li>
                    
                        
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                
                                    <i class="menu-icon fa-solid fa-layer-group"></i>
                                
                                CATEGORIES
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas search fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/"
                    >HOME</a>
                </li>
            
                
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives"
                    >ARCHIVES</a>
                </li>
            
                
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags"
                    >TAGS</a>
                </li>
            
                
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories"
                    >CATEGORIES</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle border-box">

            <div class="main-content border-box">
                

                    
<div class="fade-in-down-animation">
    <div class="post-page-container border-box">
        <div class="post-content-container border-box">
            

            <div class="post-content-bottom border-box">
                
                    <div class="post-title">
                        sql基础
                    </div>
                

                
                    <div class="post-header border-box">
                        
                            <div class="avatar-box border-box">
                                <img src="/images/icon40.png">
                            </div>
                        
                        <div class="info-box">
                            <div class="author border-box">
                                <span class="name">Elora</span>
                                
                                    <span class="author-badge">Rinta!</span>
                                
                            </div>
                            <div class="meta-info border-box">
                                

<div class="post-meta-info-container border-box post">
    <div class="post-meta-info border-box">
        

        
            <span class="meta-info-item post-create-date">
                <i class="icon fa-solid fa-calendar-plus"></i>&nbsp;
                <span class="datetime">2024-04-04 14:35:35</span>
            </span>

            <span class="meta-info-item post-update-date">
                <i class="icon fa-solid fa-file-pen"></i>&nbsp;
                <span class="datetime" data-updated="Fri Apr 05 2024 19:40:36 GMT+0800">2024-04-05 19:40:36</span>
            </span>
        

        
            <span class="meta-info-item post-category border-box"><i class="icon fas fa-folder"></i>&nbsp;
                <ul class="post-category-ul">
                    
                            <li class="category-item"><a href="/categories/database/">database</a></li>
                        
                    
                </ul>
            </span>
        

        
            <span class="post-tag meta-info-item border-box">
                <ul class="post-tag-ul">
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/sql/">sql</a></li>
                        
                    
                </ul>
            </span>
        

        
        
            <span class="meta-info-item post-wordcount">
                <i class="icon fas fa-file-word"></i>&nbsp;<span>8.2k Words</span>
            </span>
        
        
            <span class="meta-info-item post-min2read">
                <i class="icon fas fa-clock"></i>&nbsp;<span>37 Mins</span>
            </span>
        
        
            <span class="meta-info-item post-pv">
                <i class="icon fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
            </span>
        
    </div>

    
</div>

                            </div>
                        </div>
                    </div>
                

                <div class="post-content keep-markdown-body">
                    

                    <h1 id="表"><a href="#表" class="headerlink" title="表"></a>表</h1><p>由行和列组成的二维表格</p>
<ul>
<li>行，又叫记录</li>
<li>列，又叫字段</li>
</ul>
<h1 id="SQL语言（structured-query-language"><a href="#SQL语言（structured-query-language" class="headerlink" title="SQL语言（structured query language)"></a>SQL语言（structured query language)</h1><p>SQL语言主要分为:</p>
<ul>
<li>DQL：数据查询语言，如select</li>
<li>DDL：数据定义语言，进行数据库、表的管理等，如create、drop</li>
<li>DML：数据操作语言，增删改查，如insert、uupdate、delete</li>
<li>TPL：事务处理语言，如begin transaction、commit、rollback</li>
</ul>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><ul>
<li>单行注释：– 注释内容</li>
<li>多行注释：&#x2F;*     *&#x2F;</li>
</ul>
<h1 id="MySQL常用数据类型"><a href="#MySQL常用数据类型" class="headerlink" title="MySQL常用数据类型"></a>MySQL常用数据类型</h1><ul>
<li>整形 int</li>
<li>小整数tinyint</li>
<li>小数decimal：如decimal(5,2)表示共存5位数，小数占2位，不能超过2位；整数占3位</li>
<li>字符串varchar：如varchar(3)表示最多存3个 字符，一个中文或一个字母都占一个字符</li>
<li>日期实际datetime</li>
</ul>
<h2 id="表、字段、记录"><a href="#表、字段、记录" class="headerlink" title="表、字段、记录"></a>表、字段、记录</h2><ul>
<li>表：数据库中存储数据的基本单位<br>字段（列）–field      记录（行）–record</li>
</ul>
<h3 id="创建表-CREATE-TABLE"><a href="#创建表-CREATE-TABLE" class="headerlink" title="创建表 CREATE TABLE"></a>创建表 CREATE TABLE</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名(</span><br><span class="line">	字段名 数据类型;</span><br><span class="line">	字段名 数据类型</span><br><span class="line">	...</span><br><span class="line">)</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> a(NAME <span class="type">VARCHAR</span>(<span class="number">10</span>)); <span class="comment">-- 指定varchar长度为10</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> b(</span><br><span class="line">	NAME <span class="type">VARCHAR</span>(<span class="number">10</span>),</span><br><span class="line">	HEIGHT <span class="type">DECIMAL</span>(<span class="number">5</span>,<span class="number">2</span>)   <span class="comment">-- 数字五位，两位小数</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> c(</span><br><span class="line">	id <span class="type">INT</span>,</span><br><span class="line">	NAME <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	age TINYINT UNSIGNED</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/1.png"><br><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/2.png"><br><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/3.png"></p>
<h3 id="INSERT插入记录"><a href="#INSERT插入记录" class="headerlink" title="INSERT插入记录"></a>INSERT插入记录</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#值的顺序与字段顺序对应</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名 <span class="keyword">values</span> (...);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> c <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;张飞&#x27;</span>,<span class="number">30</span>);</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/4.png"></p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#部分字段设值，值的顺序与给出的字段顺序对应</span><br><span class="line">#<span class="keyword">INSERT</span> <span class="keyword">INTO</span> 表名 (字段名,字段名) <span class="keyword">values</span> (值,值)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> c (id,NAME) <span class="keyword">VALUES</span> (<span class="number">2</span>,<span class="string">&#x27;老房子&#x27;</span>); </span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/5.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#插入多条记录，<span class="keyword">insert</span>语句用分号隔开</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> c <span class="keyword">VALUES</span>(<span class="number">6</span>,<span class="string">&#x27;周瑜&#x27;</span>,<span class="number">24</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> c (NAME) <span class="keyword">VALUES</span> (<span class="string">&#x27;诸葛亮&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> c (id,NAME) <span class="keyword">VALUES</span> (<span class="number">7</span>,<span class="string">&#x27;黄忠&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/6.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#一条<span class="keyword">insert</span>语句插入多条记录</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> c <span class="keyword">VALUES</span> (<span class="number">10</span>,<span class="string">&#x27;张三&#x27;</span>,<span class="number">10</span>),(<span class="number">12</span>,<span class="string">&#x27;王五&#x27;</span>,<span class="number">20</span>),(<span class="number">11</span>,<span class="string">&#x27;赵六&#x27;</span>,<span class="number">31</span>);</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/7.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#一条<span class="keyword">insert</span>语句插入指定字段值</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> c (id,NAME) <span class="keyword">VALUES</span> (<span class="number">14</span>,<span class="string">&#x27;hua&#x27;</span>),(<span class="number">15</span>,<span class="string">&#x27;yu&#x27;</span>),(<span class="number">16</span>,<span class="string">&#x27;rain&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/8.png"></p>
<h3 id="SELECT-简单查询"><a href="#SELECT-简单查询" class="headerlink" title="SELECT 简单查询"></a>SELECT 简单查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> 表名;#<span class="operator">*</span>表示全部的字段</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/9.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#查询指定字段</span><br><span class="line"><span class="keyword">SELECT</span> id <span class="keyword">from</span> c;#查询id字段</span><br><span class="line"><span class="keyword">SELECT</span> id <span class="keyword">FROM</span> c;</span><br><span class="line"><span class="keyword">SELECT</span> id,age <span class="keyword">FROM</span> c;</span><br><span class="line"><span class="keyword">SELECT</span> id,age,NAME <span class="keyword">FROM</span> c;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/10.png"><br><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/11.png"><br><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/12.png"></p>
<h3 id="UPDATE-修改数据"><a href="#UPDATE-修改数据" class="headerlink" title="UPDATE 修改数据"></a>UPDATE 修改数据</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> 表名 <span class="keyword">set</span> 字段<span class="number">1</span><span class="operator">=</span>值<span class="number">1</span>,字段<span class="number">2</span><span class="operator">=</span>值<span class="number">2</span> <span class="keyword">where</span> 条件；</span><br><span class="line"><span class="keyword">UPDATE</span> c <span class="keyword">SET</span> age<span class="operator">=</span><span class="number">50</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/13.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#设置条件修改</span><br><span class="line"><span class="keyword">UPDATE</span> c <span class="keyword">SET</span> NAME<span class="operator">=</span><span class="string">&#x27;di&#x27;</span>,age<span class="operator">=</span><span class="number">20</span> <span class="keyword">WHERE</span> id <span class="operator">=</span><span class="number">2</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> c <span class="keyword">SET</span> NAME<span class="operator">=</span><span class="string">&#x27;zhangfei&#x27;</span> <span class="keyword">WHERE</span> NAME <span class="operator">=</span><span class="string">&#x27;张飞&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/14.png"><br><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/15.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#让id大于<span class="number">10</span>的age都加一岁</span><br><span class="line"><span class="keyword">UPDATE</span> c <span class="keyword">SET</span> age<span class="operator">=</span>age<span class="operator">+</span><span class="number">1</span> <span class="keyword">WHERE</span> id <span class="operator">&gt;</span><span class="number">10</span> ;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/16.png"></p>
<h3 id="DELETE删除表的记录"><a href="#DELETE删除表的记录" class="headerlink" title="DELETE删除表的记录"></a>DELETE删除表的记录</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span> 条件;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> c <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">6</span>;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> c <span class="keyword">WHERE</span> NAME<span class="operator">=</span><span class="string">&#x27;诸葛亮&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/17.png"><br><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/18.png"></p>
<h3 id="TEUNCATE删除表的所有数据，保留表结构"><a href="#TEUNCATE删除表的所有数据，保留表结构" class="headerlink" title="TEUNCATE删除表的所有数据，保留表结构"></a>TEUNCATE删除表的所有数据，保留表结构</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">truncate</span> <span class="keyword">table</span> 表名;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/19.png"></p>
<h4 id="DELETE与TRUNCATE区别"><a href="#DELETE与TRUNCATE区别" class="headerlink" title="DELETE与TRUNCATE区别"></a>DELETE与TRUNCATE区别</h4><ul>
<li>速度上，turncate&gt;delete</li>
<li>如果只想删除部分数据用delete，带上where子句</li>
<li>如果想保留表而将所有数据删除，自增长字段恢复从1开始，用truncate,delete会从删除前的最大值开始增长</li>
</ul>
<h3 id="DROP-TABLE删除表"><a href="#DROP-TABLE删除表" class="headerlink" title="DROP TABLE删除表"></a>DROP TABLE删除表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> 表名;</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> a;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 如果表a存在，就删除表a，如果不存在，就什么都不做</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> if <span class="keyword">EXISTS</span> a;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/20.png"></p>
<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/21.png"></p>
<h1 id="字段的约束"><a href="#字段的约束" class="headerlink" title="字段的约束"></a>字段的约束</h1><h2 id="常用的约束"><a href="#常用的约束" class="headerlink" title="常用的约束"></a>常用的约束</h2><ul>
<li>主键（primary key）：值不能重复，auto_increment代表值自动增长；</li>
<li>非空（not null）：此字段不参与空值；</li>
<li>唯一（unique）：此字段的值不允许重复</li>
<li>默认值（default）：当不填写此值时会使用默认值，如果填写时以填写为准</li>
</ul>
<h2 id="主键"><a href="#主键" class="headerlink" title="主键"></a>主键</h2><p>创建带约束字段的表：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span>  <span class="keyword">table</span> 表名(</span><br><span class="line">	字段名 数据类型 约束,</span><br><span class="line">	字段名 数据类型 约束</span><br><span class="line">	...</span><br><span class="line">)</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> d(</span><br><span class="line">	id <span class="type">INT</span> UNSIGNED <span class="keyword">PRIMARY</span> KEY auto_increment, 	</span><br><span class="line">	name <span class="type">VARCHAR</span>(<span class="number">10</span>),</span><br><span class="line">	age TINYINT UNSIGNED</span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> d (name,age) <span class="keyword">VALUES</span> (<span class="string">&#x27;liu&#x27;</span>,<span class="number">12</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> d (name,age) <span class="keyword">VALUES</span> (<span class="string">&#x27;wan&#x27;</span>,<span class="number">22</span>);</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/22.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> d (id,name,age) <span class="keyword">VALUES</span> (<span class="number">6</span>,<span class="string">&#x27;www&#x27;</span>,<span class="number">12</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> d (name,age) <span class="keyword">VALUES</span> (<span class="string">&#x27;ll&#x27;</span>,<span class="number">14</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> d;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/23.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 如果不指定字段，主键自增长的字段可以用占位符0或null</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> d <span class="keyword">VALUES</span> (<span class="number">0</span>,<span class="string">&#x27;wl&#x27;</span>,<span class="number">55</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> d <span class="keyword">VALUES</span> (<span class="keyword">null</span>,<span class="string">&#x27;sssdw&#x27;</span>,<span class="number">123</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> d;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/24.png"></p>
<h2 id="非空"><a href="#非空" class="headerlink" title="非空"></a>非空</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE e(</span><br><span class="line">	id INT UNSIGNED,</span><br><span class="line">	name VARCHAR(10) not null,</span><br><span class="line">	age INT UNSIGNED</span><br><span class="line">);</span><br><span class="line">INSERT INTO e VALUES (1,&#x27;lbw&#x27;,38);</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/25.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> e (id,age) <span class="keyword">VALUES</span> (<span class="number">2</span>,<span class="number">22</span>);</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/26.png"></p>
<h2 id="唯一"><a href="#唯一" class="headerlink" title="唯一"></a>唯一</h2><p>此字段的值不允许重复</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> f(</span><br><span class="line">	id <span class="type">INT</span> UNSIGNED <span class="keyword">PRIMARY</span> KEY auto_increment,</span><br><span class="line">	name <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">UNIQUE</span>,</span><br><span class="line">	age <span class="type">INT</span> UNSIGNED</span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> f <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;ana&#x27;</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> f <span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;lily&#x27;</span>,<span class="number">5</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> f;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/27.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO f VALUES(3,&#x27;ana&#x27;,5);</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/28.png"></p>
<h2 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a>默认值</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> g(</span><br><span class="line">	id <span class="type">INT</span> UNSIGNED <span class="keyword">PRIMARY</span> KEY auto_increment,</span><br><span class="line">	name <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">UNIQUE</span>,</span><br><span class="line">	age <span class="type">INT</span> UNSIGNED <span class="keyword">DEFAULT</span> <span class="number">30</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> g <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;zs&#x27;</span>,<span class="number">20</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> g (id,name) <span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;lily&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> g <span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">&#x27;ana&#x27;</span>,<span class="number">0</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> g <span class="keyword">VALUES</span>(<span class="keyword">NULL</span>,<span class="string">&#x27;www&#x27;</span>,<span class="keyword">NULL</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> g <span class="keyword">VALUES</span>(<span class="keyword">NULL</span>,<span class="string">&#x27;w5&#x27;</span>,<span class="number">22</span>);</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/29.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> g <span class="keyword">VALUES</span>(<span class="keyword">NULL</span>,<span class="string">&#x27;w5&#x27;</span>,<span class="number">22</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> g <span class="keyword">VALUES</span>(<span class="keyword">NULL</span>,<span class="string">&#x27;w6&#x27;</span>,<span class="number">32</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> g;</span><br><span class="line"><span class="comment">-- 因为约束数据没有录入，但是自增长的值会继续增长</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/30.png"></p>
<h1 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h1><h2 id="数据准备"><a href="#数据准备" class="headerlink" title="数据准备"></a>数据准备</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> students;</span><br><span class="line"><span class="comment">/* 创建学生表students */</span> </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> students (</span><br><span class="line">	studentNo <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">primary</span> key, <span class="comment">/*学号，主键，值不能重复*/</span> </span><br><span class="line">	name <span class="type">varchar</span>(<span class="number">10</span>), <span class="comment">/*姓名*/</span></span><br><span class="line">	sex <span class="type">varchar</span>(<span class="number">1</span>), <span class="comment">/*性别*/</span></span><br><span class="line">	hometown <span class="type">varchar</span>(<span class="number">20</span>), <span class="comment">/*家乡*/</span></span><br><span class="line">	age tinyint, <span class="comment">/*年龄*/</span></span><br><span class="line">	class <span class="type">varchar</span>(<span class="number">10</span>), <span class="comment">/*班级*/</span> card <span class="type">varchar</span>(<span class="number">20</span>) <span class="comment">/*身份证号码*/</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">/* 向学生表students插入数据 */</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> students <span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;001&#x27;</span>, <span class="string">&#x27;王昭君&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;北京&#x27;</span>, <span class="string">&#x27;30&#x27;</span>, <span class="string">&#x27;1班&#x27;</span>, <span class="string">&#x27;110101199003157654&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;002&#x27;</span>, <span class="string">&#x27;诸葛亮&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;上海&#x27;</span>, <span class="string">&#x27;29&#x27;</span>, <span class="string">&#x27;2班&#x27;</span>, <span class="string">&#x27;310102199104262354&#x27;</span>), </span><br><span class="line">(<span class="string">&#x27;003&#x27;</span>, <span class="string">&#x27;张飞&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;南京&#x27;</span>, <span class="string">&#x27;30&#x27;</span>, <span class="string">&#x27;3班&#x27;</span>, <span class="string">&#x27;320102199003047654&#x27;</span>), </span><br><span class="line">(<span class="string">&#x27;004&#x27;</span>, <span class="string">&#x27;白起&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;安徽&#x27;</span>, <span class="string">&#x27;35&#x27;</span>, <span class="string">&#x27;4班&#x27;</span>, <span class="string">&#x27;340202198505177654&#x27;</span>), </span><br><span class="line">(<span class="string">&#x27;005&#x27;</span>, <span class="string">&#x27;大乔&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;天津&#x27;</span>, <span class="string">&#x27;28&#x27;</span>, <span class="string">&#x27;3班&#x27;</span>, <span class="string">&#x27;120101199204067654&#x27;</span>), </span><br><span class="line">(<span class="string">&#x27;006&#x27;</span>, <span class="string">&#x27;孙尚香&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;河北&#x27;</span>, <span class="string">&#x27;25&#x27;</span>, <span class="string">&#x27;1班&#x27;</span>, <span class="string">&#x27;130502199506137654&#x27;</span>), </span><br><span class="line">(<span class="string">&#x27;007&#x27;</span>, <span class="string">&#x27;百里玄策&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;山西&#x27;</span>, <span class="string">&#x27;39&#x27;</span>, <span class="string">&#x27;2班&#x27;</span>, <span class="string">&#x27;140102198107277654&#x27;</span>), </span><br><span class="line">(<span class="string">&#x27;008&#x27;</span>, <span class="string">&#x27;小乔&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;河南&#x27;</span>, <span class="string">&#x27;25&#x27;</span>, <span class="string">&#x27;3班&#x27;</span>, <span class="keyword">null</span>),</span><br><span class="line">(<span class="string">&#x27;009&#x27;</span>, <span class="string">&#x27;百里守约&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;湖南&#x27;</span>, <span class="string">&#x27;31&#x27;</span>, <span class="string">&#x27;1班&#x27;</span>, <span class="string">&#x27;&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;010&#x27;</span>, <span class="string">&#x27;妲己&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;广东&#x27;</span>, <span class="string">&#x27;24&#x27;</span>, <span class="string">&#x27;2班&#x27;</span>, <span class="string">&#x27;440701199607147654&#x27;</span>), </span><br><span class="line">(<span class="string">&#x27;011&#x27;</span>, <span class="string">&#x27;李白&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;北京&#x27;</span>, <span class="string">&#x27;30&#x27;</span>, <span class="string">&#x27;4班&#x27;</span>, <span class="string">&#x27;110202199005017754&#x27;</span>), </span><br><span class="line">(<span class="string">&#x27;012&#x27;</span>, <span class="string">&#x27;孙膑&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;新疆&#x27;</span>, <span class="string">&#x27;36&#x27;</span>, <span class="string">&#x27;3班&#x27;</span>, <span class="string">&#x27;650102198401297655&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/31.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> `NAME` <span class="keyword">FROM</span> students;</span><br><span class="line"><span class="keyword">SELECT</span> name <span class="keyword">FROM</span> students;</span><br><span class="line"><span class="keyword">SELECT</span> NAME <span class="keyword">FROM</span> students;</span><br><span class="line"><span class="comment">-- mysql中大小写不敏感</span></span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/32.png"></p>
<h3 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h3><p>字段的别名：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> card <span class="keyword">as</span> 身份证,name <span class="keyword">as</span> 姓名,sex <span class="keyword">as</span> 性别 <span class="keyword">FROM</span> students;</span><br><span class="line"><span class="comment">-- as可以省略</span></span><br><span class="line"><span class="keyword">SELECT</span> card  身份证,name 姓名,sex 性别 <span class="keyword">FROM</span> students;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/33.png"><br>表的别名：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">as</span> stu;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students  stu;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/34.png"></p>
<h3 id="去除重复distinct"><a href="#去除重复distinct" class="headerlink" title="去除重复distinct"></a>去除重复distinct</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- distinct可以过滤除select查询结果中重复的记录</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> sex <span class="keyword">from</span> students;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/35.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> sex,class <span class="keyword">from</span> students;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/36.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> sex,class <span class="keyword">from</span> students;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/37.png"></p>
<h2 id="where子句"><a href="#where子句" class="headerlink" title="where子句"></a>where子句</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">WHERE</span> studentNO<span class="operator">=</span><span class="string">&#x27;001&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/38.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name,class <span class="keyword">from</span> students <span class="keyword">WHERE</span> age<span class="operator">=</span><span class="number">30</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/39.png"></p>
<ul>
<li>select控制查询返回什么样的列（字段)</li>
<li>where控制查询返回什么样的行（记录）</li>
</ul>
<h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h3><ul>
<li>等于：&#x3D;<br><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/40.png"></li>
<li>大于：&gt;</li>
<li>大于等于：&gt;&#x3D;</li>
<li>小于：&lt;<br><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/41.png"></li>
<li>小于等于：&lt;&#x3D;<br><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/42.png"></li>
<li>不等于：!&#x3D;或&lt;&gt;<br><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/43.png"></li>
</ul>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><ul>
<li><p>与and<br><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/44.png"></p>
</li>
<li><p>或or<br><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/45.png"></p>
</li>
<li><p>非not</p>
<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/46.png"></p>
<p>模糊查询</p>
</li>
<li><p><strong>like，表示模糊查询</strong></p>
</li>
<li><p><strong>%表示任意多个字符</strong></p>
</li>
<li><p><strong>下划线表示任意一个字符</strong></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 查询姓名以孙开头的学生信息</span><br><span class="line">SELECT * FROM students WHERE name like &#x27;孙%&#x27;;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/47.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询姓名以孙开头,且名字只有一个字的学生信息</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> name <span class="keyword">like</span> <span class="string">&#x27;孙_&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/48.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询名中带乔的学生信息</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> name <span class="keyword">like</span> <span class="string">&#x27;%乔&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/49.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询姓名中有白的学生信息</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> name <span class="keyword">like</span> <span class="string">&#x27;%白%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/50.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询姓名为两个字的学生记录</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> name <span class="keyword">like</span> <span class="string">&#x27;__&#x27;</span>;</span><br><span class="line"><span class="comment">-- 查询姓白且年龄大于30的学生记录</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> name <span class="keyword">like</span> <span class="string">&#x27;白%&#x27;</span> <span class="keyword">AND</span> age <span class="operator">&gt;</span> <span class="number">30</span>;</span><br><span class="line"><span class="comment">-- 查询学号以1结尾的学生记录</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> studentNO <span class="keyword">like</span> <span class="string">&#x27;%1&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/51.png"><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/52.png"><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/53.png"></p>
<h3 id="范围查找"><a href="#范围查找" class="headerlink" title="范围查找"></a>范围查找</h3><ul>
<li>in：表示在一个非连续的范围内</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> hometown <span class="keyword">IN</span> (<span class="string">&#x27;北京&#x27;</span>,<span class="string">&#x27;上海&#x27;</span>,<span class="string">&#x27;广东&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/54.png"><br><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/55.png"></p>
<ul>
<li>between…and…：表示在一个连续的范围内</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> age <span class="keyword">BETWEEN</span> <span class="number">25</span> <span class="keyword">AND</span> <span class="number">30</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/56.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询age年龄在20或25或30的女生记录</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> age <span class="keyword">in</span> (<span class="number">20</span>,<span class="number">25</span>,<span class="number">30</span>) <span class="keyword">AND</span> sex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>;</span><br><span class="line"><span class="comment">-- 查询age年龄25到30以外的学生记录</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> age <span class="keyword">NOT</span> <span class="keyword">BETWEEN</span> <span class="number">25</span> <span class="keyword">AND</span> <span class="number">30</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/57.png"></p>
<h3 id="空判断"><a href="#空判断" class="headerlink" title="空判断"></a>空判断</h3><p>在 SQL 中，<code>NULL</code> 代表未知值或缺失值，它与任何其他值（包括它自己）的比较结果都是未知的。因此，在 SQL 中，你不能使用 <code>=</code> 运算符来判断一个值是否为 <code>NULL</code>，因为任何值与 <code>NULL</code> 进行比较的结果都是未知的，包括自己与自己进行比较。</p>
<ul>
<li>判断空：is null</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> card <span class="keyword">is</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/58.png"></p>
<ul>
<li>判断非空：is not null</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> card <span class="keyword">is</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/59.png"></p>
<h2 id="where在update和delete"><a href="#where在update和delete" class="headerlink" title="where在update和delete"></a>where在update和delete</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> students <span class="keyword">SET</span> class <span class="operator">=</span> <span class="string">&#x27;2班&#x27;</span> <span class="keyword">WHERE</span> age <span class="operator">=</span> <span class="number">25</span> <span class="keyword">AND</span> name<span class="operator">=</span><span class="string">&#x27;孙尚香&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/60.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> class <span class="operator">=</span> <span class="string">&#x27;1班&#x27;</span> <span class="keyword">and</span> age <span class="operator">&gt;</span><span class="number">30</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/61.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> students <span class="keyword">SET</span> class <span class="operator">=</span> <span class="string">&#x27;1班&#x27;</span> <span class="keyword">WHERE</span> name <span class="keyword">like</span> <span class="string">&#x27;孙%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/62.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> (age <span class="keyword">BETWEEN</span> <span class="number">20</span> <span class="keyword">and</span> <span class="number">30</span>) <span class="keyword">and</span> sex <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/63.png"></p>
<h2 id="排序-order-by"><a href="#排序-order-by" class="headerlink" title="排序 order by"></a>排序 order by</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表名</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> 字段<span class="number">1</span> <span class="keyword">asc</span> <span class="operator">|</span><span class="keyword">desc</span>,字段<span class="number">2</span> <span class="keyword">asc</span><span class="operator">|</span><span class="keyword">desc</span>,...</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">ORDER</span> <span class="keyword">BY</span> age; <span class="comment">-- 默认为升序asc</span></span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/64.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">ORDER</span> <span class="keyword">BY</span> age <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/65.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 按年龄从大到小排序，年龄相同时按学号从小到大排序</span></span><br><span class="line"><span class="comment">-- 优先级前面的字段在前面</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">ORDER</span> <span class="keyword">BY</span> age <span class="keyword">DESC</span>,studentNO;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/66.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- where出现在oder by前面</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">WHERE</span> sex <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> class,studentNO <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/67.png"></p>
<h2 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h2><h3 id="count总记录数"><a href="#count总记录数" class="headerlink" title="count总记录数"></a>count总记录数</h3><p><code>count(*) </code>表示总记录数，括号中写 * 与字段名、结果是相同的。字段记录有<code>null</code>时不同</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> students</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(name) <span class="keyword">FROM</span> students</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/68.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 统计班级数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="keyword">DISTINCT</span> class) <span class="keyword">FROM</span> students</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/69.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 统计女同学的数量</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> sex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/70.png"></p>
<h3 id="max最大值"><a href="#max最大值" class="headerlink" title="max最大值"></a>max最大值</h3><p><code>max(字段)</code>表示求此字段的最大值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(age) <span class="keyword">FROM</span> students;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/71.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(age) <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> sex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/72.png"><br><strong>聚合函数不能用在where子句中</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> name <span class="keyword">from</span> students <span class="keyword">where</span> age <span class="operator">=</span> <span class="built_in">max</span>(age); <span class="comment">-- 错误</span></span><br></pre></td></tr></table></figure>

<h3 id="min最小值"><a href="#min最小值" class="headerlink" title="min最小值"></a>min最小值</h3><p><code>min(字段)</code>表示求此字段的最小值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(age) <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> sex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> name <span class="keyword">from</span> students <span class="keyword">where</span> age <span class="operator">=</span> <span class="built_in">min</span>(age); <span class="comment">-- 错误</span></span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/73.png"></p>
<h3 id="sum求和"><a href="#sum求和" class="headerlink" title="sum求和"></a>sum求和</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">sum</span>(age) <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> sex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/74.png"></p>
<h3 id="avg平均年龄"><a href="#avg平均年龄" class="headerlink" title="avg平均年龄"></a>avg平均年龄</h3><p><code>avg</code>会忽略null</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">avg</span>(age) <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> sex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/75.png"></p>
<h3 id="mod-取余"><a href="#mod-取余" class="headerlink" title="mod()取余"></a>mod()取余</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">MOD</span>(dividend, divisor)</span><br><span class="line"><span class="comment">-- dividend 是被除数，即要计算余数的数字。</span></span><br><span class="line"><span class="comment">-- divisor 是除数，即要除以的数字。</span></span><br></pre></td></tr></table></figure>



<h2 id="数据分组"><a href="#数据分组" class="headerlink" title="数据分组"></a>数据分组</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 聚合函数 <span class="keyword">from</span> 表名 <span class="keyword">where</span> 条件 <span class="keyword">group</span> <span class="keyword">by</span> 字段;</span><br><span class="line"><span class="keyword">select</span> 聚合函数 <span class="keyword">from</span> 表名 <span class="keyword">group</span> <span class="keyword">by</span> 字段;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> students <span class="keyword">GROUP</span> <span class="keyword">BY</span> sex;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/76.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> sex,<span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> students <span class="keyword">GROUP</span> <span class="keyword">BY</span> sex;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/77.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> sex,<span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> class<span class="operator">=</span><span class="string">&#x27;1班&#x27;</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> sex;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/78.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> class,<span class="built_in">COUNT</span>(<span class="operator">*</span>) 总数,<span class="built_in">avg</span>(age),<span class="built_in">MAX</span>(age) ,<span class="built_in">min</span>(age) <span class="keyword">FROM</span> students <span class="keyword">GROUP</span> <span class="keyword">BY</span> class</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/79.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> class,<span class="built_in">COUNT</span>(<span class="operator">*</span>) 总数,<span class="built_in">avg</span>(age),<span class="built_in">MAX</span>(age) ,<span class="built_in">min</span>(age) <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> <span class="keyword">NOT</span> class<span class="operator">=</span><span class="string">&#x27;3班&#x27;</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> class <span class="keyword">ORDER</span> <span class="keyword">BY</span> class <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/80.png"></p>
<h3 id="分组后进行筛选"><a href="#分组后进行筛选" class="headerlink" title="分组后进行筛选"></a>分组后进行筛选</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 字段<span class="number">1</span>, 字段<span class="number">2</span>, 聚合.. <span class="keyword">from</span> 表名</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> 字段<span class="number">1</span>，字段<span class="number">2</span>，字段<span class="number">3.</span>..</span><br><span class="line"><span class="keyword">having</span> 字段<span class="number">1</span>，...聚合...</span><br><span class="line"><span class="comment">-- 没有group by不能用having</span></span><br><span class="line"><span class="comment">--  where先筛选复合条件的记录，再聚合统计</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> sex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span>;</span><br><span class="line"><span class="comment">-- having先分组统计，在统计的结果中筛选</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">from</span> students <span class="keyword">GROUP</span> <span class="keyword">BY</span> sex <span class="keyword">HAVING</span> sex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/81.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 求班级人数大于2的班级</span></span><br><span class="line"><span class="keyword">SELECT</span> class <span class="keyword">FROM</span> students <span class="keyword">GROUP</span> <span class="keyword">BY</span> class <span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/82.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询班级总人数大于2人的班级名称及班级对应的总人数</span></span><br><span class="line"><span class="keyword">SELECT</span> class,<span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> students <span class="keyword">GROUP</span> <span class="keyword">BY</span> class <span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/83.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询平均年龄大于30岁的班级名称和班级总人数</span></span><br><span class="line"><span class="keyword">SELECT</span> class,<span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> students <span class="keyword">GROUP</span> <span class="keyword">BY</span> class <span class="keyword">HAVING</span> <span class="built_in">AVG</span>(age)<span class="operator">&gt;</span><span class="number">30</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/84.png"></p>
<h4 id="对比where和having"><a href="#对比where和having" class="headerlink" title="对比where和having"></a>对比where和having</h4><ul>
<li>where是对from后面指定的表进行筛选，是对原始数据进行筛选；</li>
<li>having是对group by的结果进行筛选；</li>
<li>having后面的条件可以用聚合函数，where后面的条件不可以使用聚合函数</li>
<li><code>WHERE</code> 用于筛选行，它指定了对哪些行进行聚合操作。<code>WHERE</code> 子句筛选出满足条件的行，并将其传递给 <code>GROUP BY</code> 子句进行分组。</li>
<li><code>GROUP BY</code> 用于对行进行分组，并对每个组应用聚合函数（如 <code>COUNT</code>、<code>SUM</code>、<code>AVG</code> 等）。<code>GROUP BY</code> 子句指定了按照哪些列对行进行分组，聚合函数将在每个组上计算。</li>
</ul>
<h2 id="数据分页显示"><a href="#数据分页显示" class="headerlink" title="数据分页显示"></a>数据分页显示</h2><p><code>limit 开始行,获取行数;</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表名 <span class="keyword">start</span>,count <span class="comment">-- start默认第一行</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students LIMIT <span class="number">0</span>,<span class="number">3</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/85.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询从第四条记录开始的三条记录</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students LIMIT <span class="number">3</span>,<span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/86.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- limit总是出现在select语句的最后</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span> 条件 <span class="keyword">group</span> <span class="keyword">by</span> 字段 oder <span class="keyword">by</span> 字段 limit <span class="keyword">start</span>,count;</span><br><span class="line"><span class="comment">-- 获取年龄最大的同学的相关信息</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">ORDER</span> <span class="keyword">BY</span> age <span class="keyword">DESC</span> LIMIT <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/87.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询年龄最小的女同学信息</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> sex <span class="operator">=</span><span class="string">&#x27;女&#x27;</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> age  LIMIT <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/88.png"></p>
<h3 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h3><p>已知每页显示m条数据，求：查询第n页的数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students limit(n<span class="number">-1</span>)<span class="operator">*</span>m ,m</span><br><span class="line"><span class="comment">-- 每页显示4条记录，查询第3页的数据</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students limit <span class="number">8</span>,<span class="number">4</span>;</span><br><span class="line"><span class="comment">-- 查询students表，每页显示5条记录，求总页数</span></span><br><span class="line"><span class="number">1.</span> 查询记录总条数 a；</span><br><span class="line"><span class="number">2.</span> 使用a除以每页的条数<span class="number">5</span>，得到b；</span><br><span class="line"><span class="number">3.</span> 如果b为整数，b为总数</span><br></pre></td></tr></table></figure>

<h1 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h1><p>通过连接运算实现</p>
<ul>
<li>内连接</li>
<li>左连接</li>
<li>右连接</li>
</ul>
<h2 id="数据准备-1"><a href="#数据准备-1" class="headerlink" title="数据准备"></a>数据准备</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 创建学生表students */</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> students (</span><br><span class="line">  studentNo <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">primary</span> key, <span class="comment">/*学号，主键，值不能重复*/</span></span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">10</span>), <span class="comment">/*姓名*/</span></span><br><span class="line">  sex <span class="type">varchar</span>(<span class="number">1</span>), <span class="comment">/*性别*/</span></span><br><span class="line">  hometown <span class="type">varchar</span>(<span class="number">20</span>), <span class="comment">/*家乡*/</span></span><br><span class="line">  age tinyint, <span class="comment">/*年龄*/</span></span><br><span class="line">  class <span class="type">varchar</span>(<span class="number">10</span>), <span class="comment">/*班级*/</span></span><br><span class="line">  card <span class="type">varchar</span>(<span class="number">20</span>) <span class="comment">/*身份证号码*/</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 向学生表students插入数据 */</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> students <span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;001&#x27;</span>, <span class="string">&#x27;王昭君&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;北京&#x27;</span>, <span class="string">&#x27;30&#x27;</span>, <span class="string">&#x27;1班&#x27;</span>, <span class="string">&#x27;110101199003157654&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;002&#x27;</span>, <span class="string">&#x27;诸葛亮&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;上海&#x27;</span>, <span class="string">&#x27;29&#x27;</span>, <span class="string">&#x27;2班&#x27;</span>, <span class="string">&#x27;310102199104262354&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;003&#x27;</span>, <span class="string">&#x27;张飞&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;南京&#x27;</span>, <span class="string">&#x27;30&#x27;</span>, <span class="string">&#x27;3班&#x27;</span>, <span class="string">&#x27;320102199003047654&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;004&#x27;</span>, <span class="string">&#x27;白起&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;安徽&#x27;</span>, <span class="string">&#x27;35&#x27;</span>, <span class="string">&#x27;4班&#x27;</span>, <span class="string">&#x27;340202198505177654&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;005&#x27;</span>, <span class="string">&#x27;大乔&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;天津&#x27;</span>, <span class="string">&#x27;28&#x27;</span>, <span class="string">&#x27;3班&#x27;</span>, <span class="string">&#x27;120101199204067654&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;006&#x27;</span>, <span class="string">&#x27;孙尚香&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;河北&#x27;</span>, <span class="string">&#x27;25&#x27;</span>, <span class="string">&#x27;1班&#x27;</span>, <span class="string">&#x27;130502199506137654&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;007&#x27;</span>, <span class="string">&#x27;百里玄策&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;山西&#x27;</span>, <span class="string">&#x27;39&#x27;</span>, <span class="string">&#x27;2班&#x27;</span>, <span class="string">&#x27;140102198107277654&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;008&#x27;</span>, <span class="string">&#x27;小乔&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;河南&#x27;</span>, <span class="string">&#x27;25&#x27;</span>, <span class="string">&#x27;3班&#x27;</span>, <span class="keyword">null</span>),</span><br><span class="line">(<span class="string">&#x27;009&#x27;</span>, <span class="string">&#x27;百里守约&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;湖南&#x27;</span>, <span class="string">&#x27;31&#x27;</span>, <span class="string">&#x27;1班&#x27;</span>, <span class="string">&#x27;&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;010&#x27;</span>, <span class="string">&#x27;妲己&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;广东&#x27;</span>, <span class="string">&#x27;24&#x27;</span>, <span class="string">&#x27;2班&#x27;</span>, <span class="string">&#x27;440701199607147654&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;011&#x27;</span>, <span class="string">&#x27;李白&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;北京&#x27;</span>, <span class="string">&#x27;30&#x27;</span>, <span class="string">&#x27;4班&#x27;</span>, <span class="string">&#x27;110202199005017754&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;012&#x27;</span>, <span class="string">&#x27;孙膑&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;新疆&#x27;</span>, <span class="string">&#x27;36&#x27;</span>, <span class="string">&#x27;3班&#x27;</span>, <span class="string">&#x27;650102198401297655&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 如果课程表courses存在，删除课程表courses */</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> courses;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 创建课程表courses */</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> courses (</span><br><span class="line">courseNo <span class="type">int</span> unsigned <span class="keyword">primary</span> key auto_increment, <span class="comment">/*课程号 主键，值不能重复，且自增长*/</span></span><br><span class="line">coursename <span class="type">varchar</span>(<span class="number">10</span>) <span class="comment">/*课程名称*/</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 向课程表courses插入数据 */</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> courses (coursename) <span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;数据库&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;html&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;linux&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;系统测试&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;单元测试&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;测试过程&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;python&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 如果成绩表scores存在，删除课程表scores */</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> scores;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 创建scores表 */</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> scores (</span><br><span class="line">id <span class="type">int</span> unsigned <span class="keyword">primary</span> key auto_increment,<span class="comment">/*主键，值不能重复，且自增长*/</span></span><br><span class="line">courseNo <span class="type">int</span> unsigned, <span class="comment">/*课程号，与courses表中courseNo关联*/</span></span><br><span class="line">studentNo <span class="type">varchar</span>(<span class="number">10</span>), <span class="comment">/*学号，与students表中studentNo关联*/</span></span><br><span class="line">score tinyint <span class="comment">/*成绩*/</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 向scores表插入数据 */</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> scores (courseNo, studentNo,score) <span class="keyword">values</span></span><br><span class="line">(<span class="number">1</span>, <span class="string">&#x27;001&#x27;</span>, <span class="number">90</span>),</span><br><span class="line">(<span class="number">1</span>, <span class="string">&#x27;002&#x27;</span>, <span class="number">75</span>),</span><br><span class="line">(<span class="number">2</span>, <span class="string">&#x27;002&#x27;</span>, <span class="number">98</span>),</span><br><span class="line">(<span class="number">3</span>, <span class="string">&#x27;001&#x27;</span>, <span class="number">86</span>),</span><br><span class="line">(<span class="number">3</span>, <span class="string">&#x27;003&#x27;</span>, <span class="number">80</span>),</span><br><span class="line">(<span class="number">4</span>, <span class="string">&#x27;004&#x27;</span>, <span class="number">79</span>),</span><br><span class="line">(<span class="number">5</span>, <span class="string">&#x27;005&#x27;</span>, <span class="number">96</span>),</span><br><span class="line">(<span class="number">6</span>, <span class="string">&#x27;006&#x27;</span>, <span class="number">80</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 如果区域表areas存在，删除areas */</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> areas;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 创建区域表areas */</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> areas(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">pid <span class="type">int</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 向区域表areas插入数据 */</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> areas</span><br><span class="line"><span class="keyword">values</span> (<span class="string">&#x27;130000&#x27;</span>, <span class="string">&#x27;河北省&#x27;</span>, <span class="keyword">NULL</span>),</span><br><span class="line">(<span class="string">&#x27;130100&#x27;</span>, <span class="string">&#x27;石家庄市&#x27;</span>, <span class="string">&#x27;130000&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;130400&#x27;</span>, <span class="string">&#x27;邯郸市&#x27;</span>, <span class="string">&#x27;130000&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;130600&#x27;</span>, <span class="string">&#x27;保定市&#x27;</span>, <span class="string">&#x27;130000&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;130700&#x27;</span>, <span class="string">&#x27;张家口市&#x27;</span>, <span class="string">&#x27;130000&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;130800&#x27;</span>, <span class="string">&#x27;承德市&#x27;</span>, <span class="string">&#x27;130000&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;440000&#x27;</span>, <span class="string">&#x27;广东省&#x27;</span>, <span class="keyword">NULL</span>),</span><br><span class="line">(<span class="string">&#x27;440300&#x27;</span>, <span class="string">&#x27;深圳市&#x27;</span>, <span class="string">&#x27;440000&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;440100&#x27;</span>, <span class="string">&#x27;广州市&#x27;</span>, <span class="string">&#x27;440000&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;440500&#x27;</span>, <span class="string">&#x27;汕头市&#x27;</span>, <span class="string">&#x27;440000&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;440600&#x27;</span>, <span class="string">&#x27;佛山市&#x27;</span>, <span class="string">&#x27;440000&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;440200&#x27;</span>, <span class="string">&#x27;韶关市&#x27;</span>, <span class="string">&#x27;440000&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h2><p>查询的结果只显示两个表中满足连接条件的部分，即A∩B</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表<span class="number">1</span></span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> 表<span class="number">2</span> <span class="keyword">on</span> 表<span class="number">1.</span>字段<span class="operator">=</span>表<span class="number">2.</span>字段</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> if <span class="keyword">EXISTS</span> a;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> a(id <span class="type">INT</span>, name <span class="type">VARCHAR</span>(<span class="number">10</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> a <span class="keyword">VALUES</span> (<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;张三&#x27;</span>),(<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>),(<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;王五&#x27;</span>);</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> if <span class="keyword">EXISTS</span> b;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> b(id <span class="type">INT</span>, score <span class="type">int</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> b <span class="keyword">VALUES</span> (<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;30&#x27;</span>),(<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;40&#x27;</span>),(<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;50&#x27;</span>),(<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;60&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> a <span class="keyword">INNER</span> <span class="keyword">JOIN</span> b <span class="keyword">ON</span> a.id<span class="operator">=</span>b.id;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/89.png"><br>id(1)为别名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">INNER</span> <span class="keyword">JOIN</span> scores <span class="keyword">ON</span> students.studentNo<span class="operator">=</span>scores.studentNo;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/90.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name,courseNo,score <span class="keyword">FROM</span> students,scores <span class="keyword">WHERE</span> students.studentNo<span class="operator">=</span>scores.studentNo;</span><br><span class="line"><span class="comment">-- 使用表的别名</span></span><br><span class="line"><span class="keyword">SELECT</span> name,courseNo,score <span class="keyword">FROM</span> students st,scores sc <span class="keyword">WHERE</span> st.studentNo<span class="operator">=</span>sc.studentNo;</span><br><span class="line"><span class="comment">-- 别名</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="keyword">SELECT</span> name 姓名,courseNo 课程编号,score 成绩 <span class="keyword">FROM</span> students st <span class="keyword">INNER</span> <span class="keyword">JOIN</span> scores sc <span class="keyword">ON</span> st.studentNo<span class="operator">=</span>sc.studentNo;</span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="keyword">SELECT</span> name 姓名,courseNo 课程编号,score 成绩 <span class="keyword">FROM</span> students st,scores sc <span class="keyword">WHERE</span> st.studentNo<span class="operator">=</span>sc.studentNo;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/91.png"><br>连接courses表和scores表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> scores <span class="keyword">INNER</span> <span class="keyword">JOIN</span> courses <span class="keyword">on</span> scores.courseNo<span class="operator">=</span>courses.courseNo;</span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> scores s <span class="keyword">INNER</span> <span class="keyword">JOIN</span> courses c <span class="keyword">on</span> s.courseNo<span class="operator">=</span>c.courseNo;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/92.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name,courseNo,score <span class="keyword">FROM</span> students s1 <span class="keyword">INNER</span> <span class="keyword">JOIN</span> scores s2 <span class="keyword">on</span> s1.studentNo<span class="operator">=</span>s2.studentNo <span class="keyword">WHERE</span> s1.name<span class="operator">=</span><span class="string">&#x27;王昭君&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/93.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name,score <span class="keyword">FROM</span> students s1 <span class="keyword">INNER</span> <span class="keyword">JOIN</span> scores s2 <span class="keyword">on</span> s1.studentNo<span class="operator">=</span>s2.studentNo <span class="keyword">WHERE</span> s1.name<span class="operator">=</span><span class="string">&#x27;王昭君&#x27;</span> <span class="keyword">AND</span> s2.score<span class="operator">&lt;</span><span class="number">90</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/94.png"></p>
<h3 id="隐式内连接"><a href="#隐式内连接" class="headerlink" title="隐式内连接"></a>隐式内连接</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 隐式内连接</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表<span class="number">1</span>,表<span class="number">2</span> <span class="keyword">where</span> 表<span class="number">1.</span>字段<span class="operator">=</span>表<span class="number">2.</span>字段;</span><br></pre></td></tr></table></figure>

<h3 id="多表内连接"><a href="#多表内连接" class="headerlink" title="多表内连接"></a>多表内连接</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students s1 <span class="keyword">INNER</span> <span class="keyword">JOIN</span> scores sc <span class="keyword">on</span> s1.studentNo<span class="operator">=</span>sc.studentNo <span class="keyword">INNER</span> <span class="keyword">JOIN</span> courses s2 <span class="keyword">on</span> sc.courseNo<span class="operator">=</span>s2.courseNo;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/95.png"><br>查询学生的linux成绩：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  name,score,coursename <span class="keyword">FROM</span> students s1 <span class="keyword">INNER</span> <span class="keyword">JOIN</span> scores sc <span class="keyword">on</span> s1.studentNo<span class="operator">=</span>sc.studentNo <span class="keyword">INNER</span> <span class="keyword">JOIN</span> courses s2 <span class="keyword">on</span> sc.courseNo<span class="operator">=</span>s2.courseNo <span class="keyword">where</span> s2.coursename<span class="operator">=</span><span class="string">&#x27;linux&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/96.png"><br>查询成绩最高的男生的信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  name,score,coursename <span class="keyword">FROM</span> students s1 <span class="keyword">INNER</span> <span class="keyword">JOIN</span> scores sc <span class="keyword">on</span> s1.studentNo<span class="operator">=</span>sc.studentNo <span class="keyword">INNER</span> <span class="keyword">JOIN</span> courses s2 <span class="keyword">on</span> sc.courseNo<span class="operator">=</span>s2.courseNo <span class="keyword">where</span> s1.sex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> sc.score <span class="keyword">DESC</span> LIMIT <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/97.png"></p>
<h2 id="左连接"><a href="#左连接" class="headerlink" title="左连接"></a>左连接</h2><p>用于从左表中选择所有的行，并且对于右表中没有匹配的行，返回 NULL 值。</p>
<p>在 LEFT JOIN 中，左表是指位于 JOIN 关键字左侧的表，右表是指位于 JOIN 关键字右侧的表。LEFT JOIN 会返回左表的所有行，以及与左表中的行匹配的右表的行。如果右表中没有与左表中的行匹配的行，则会在结果中将右表的列设置为 NULL。</p>
<p>左连接适用于以下情况：</p>
<ol>
<li>你想要保留左表的所有行，并将与左表中的行匹配的右表的行加入结果集。</li>
<li>左表是主表，右表是从表，你想要基于主表的内容来扩展结果集。</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表<span class="number">1</span></span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> 表<span class="number">2</span> <span class="keyword">on</span> 表<span class="number">1.</span>字段<span class="operator">=</span>表<span class="number">2.</span>字段</span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> scores <span class="keyword">ON</span> students.studentNo<span class="operator">=</span>scores.studentNo;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/98.png"></p>
<h2 id="右连接"><a href="#右连接" class="headerlink" title="右连接"></a>右连接</h2><p>与左连接类似，不同之处在于它会返回右表的所有行，以及与右表中的行匹配的左表的行。如果左表中没有与右表中的行匹配的行，则会在结果中将左表的列设置为 NULL。</p>
<p>右连接适用于以下情况：</p>
<ol>
<li>你想要保留右表的所有行，并将与右表中的行匹配的左表的行加入结果集。</li>
<li>右表是主表，左表是从表，你想要基于主表的内容来扩展结果集。</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表<span class="number">1</span></span><br><span class="line"><span class="keyword">right</span> <span class="keyword">join</span> 表<span class="number">2</span> <span class="keyword">on</span> 表<span class="number">1.</span>字段<span class="operator">=</span>表<span class="number">2.</span>字段</span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> scores <span class="keyword">right</span> <span class="keyword">JOIN</span> courses <span class="keyword">ON</span> scores.courseNo<span class="operator">=</span>courses.courseNo;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/99.png"></p>
<h1 id="自关联"><a href="#自关联" class="headerlink" title="自关联"></a>自关联</h1><ul>
<li>表中的相同字段所表示的含义不同</li>
<li>自关联是同一张表做连接查询</li>
<li>自关联下，一定要找到同一张表可关联的不同字段</li>
</ul>
<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/100.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询有多少个省</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> areas <span class="keyword">WHERE</span> pid <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/101.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询多少个市</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> areas <span class="keyword">WHERE</span> pid <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/102.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询广东省所有的城市</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> areas a1 <span class="keyword">INNER</span> <span class="keyword">JOIN</span> areas a2 <span class="keyword">ON</span> a1.id<span class="operator">=</span>a2.pid <span class="keyword">WHERE</span> a2.pid<span class="operator">=</span><span class="string">&#x27;440000&#x27;</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> areas a1 <span class="keyword">INNER</span> <span class="keyword">JOIN</span> areas a2 <span class="keyword">ON</span> a1.id<span class="operator">=</span>a2.pid <span class="keyword">WHERE</span> a1.name<span class="operator">=</span><span class="string">&#x27;广东省&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/103.png"></p>
<h1 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h1><blockquote>
<p>一条select语句中，嵌入了另一个select语句，那么嵌入的select语句称之为子查询。</p>
<blockquote>
<p>外层的第一条select语句为主查询</p>
</blockquote>
</blockquote>
<h2 id="子查询和主查询的关系"><a href="#子查询和主查询的关系" class="headerlink" title="子查询和主查询的关系"></a>子查询和主查询的关系</h2><ul>
<li><p>子查询嵌入到主查询中</p>
</li>
<li><p>子查询是辅助主查询的，要么充当条件，要么充当数据源；</p>
</li>
<li><p>子查询是可以独立存在的语句，是一条完整的select语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询大于平均年龄的学生记录</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> age<span class="operator">&gt;</span>(<span class="keyword">SELECT</span> <span class="built_in">AVG</span>(age) <span class="keyword">FROM</span> students);</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/104.png"></p>
<blockquote>
<p>标量子查询：子查询返回的结果只有一个值（一行一列），在主查询的条件中一般用比较运算符</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询30岁学生的成绩</span></span><br><span class="line"><span class="keyword">SELECT</span> score <span class="keyword">FROM</span> scores <span class="keyword">WHERE</span> studentNo <span class="keyword">IN</span>(<span class="keyword">SELECT</span> studentNo <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> age <span class="operator">=</span><span class="number">30</span>)</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/105.png"></p>
<blockquote>
<p>列子查询：子查询返回的结果是一列（一列多行），条件中一般用in</p>
</blockquote>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询所有女生的信息和成绩</span></span><br><span class="line"><span class="comment">-- 内连接：</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">inner</span> <span class="keyword">join</span> scores <span class="keyword">on</span> students.studentNo<span class="operator">=</span>scores.studentNo <span class="keyword">where</span> sex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>;</span><br><span class="line"><span class="comment">--   where为子查询的条件</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> sex <span class="operator">=</span><span class="string">&#x27;女&#x27;</span>) femalestu <span class="keyword">INNER</span> <span class="keyword">JOIN</span> scores sc <span class="keyword">ON</span> femalestu.studentNo<span class="operator">=</span>sc.studentNo</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/106.png"></p>
<blockquote>
<p>表级子查询：子查询的结果返回一张表（多行多列），一般和其他表联合查询</p>
</blockquote>
<h2 id="数据准备-2"><a href="#数据准备-2" class="headerlink" title="数据准备"></a>数据准备</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> departments; </span><br><span class="line"><span class="comment">/* 创建部门表 */</span> </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> departments ( </span><br><span class="line">	deptid <span class="type">int</span>(<span class="number">10</span>) <span class="keyword">primary</span> key, <span class="comment">/* 部门编号， 与 employees 表 deptid 关联 */</span> </span><br><span class="line">	deptname <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="comment">/* 部门名称 */</span> </span><br><span class="line">); <span class="comment">/* 向部门表插入数据 */</span> </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> departments <span class="keyword">values</span> (<span class="string">&#x27;1001&#x27;</span>, <span class="string">&#x27; 市场部 &#x27;</span> ); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> departments <span class="keyword">values</span> (<span class="string">&#x27;1002&#x27;</span>, <span class="string">&#x27; 测试部 &#x27;</span> ); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> departments <span class="keyword">values</span> (<span class="string">&#x27;1003&#x27;</span>, <span class="string">&#x27; 开发部 &#x27;</span> ) ; </span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> employees; <span class="comment">/* 创建员工表 */</span> </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> employees ( </span><br><span class="line">	empid <span class="type">int</span> <span class="keyword">primary</span> key, <span class="comment">/* 职工编号 */</span> </span><br><span class="line">	empname <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>, <span class="comment">/* 姓名 */</span> <span class="comment">-- 姓名 </span></span><br><span class="line">	sex <span class="type">varchar</span>(<span class="number">4</span>) <span class="keyword">default</span> <span class="keyword">null</span>, <span class="comment">/* 性别 */</span> <span class="comment">-- 性别 </span></span><br><span class="line">	deptid <span class="type">int</span> <span class="keyword">default</span> <span class="keyword">null</span>, <span class="comment">/* 部门编号， 与 departments 表 deptid 关联 */</span> </span><br><span class="line">	jobs <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">default</span> <span class="keyword">null</span>, <span class="comment">/* 岗位名称 */</span> </span><br><span class="line">	politicalstatus <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">default</span> <span class="keyword">null</span>, <span class="comment">/* 政治面貌 */</span> </span><br><span class="line">	leader <span class="type">int</span> <span class="keyword">default</span> <span class="keyword">null</span> <span class="comment">/* 上级领导的职工编号 */</span> </span><br><span class="line">); <span class="comment">/* 向员工表插入数据 */</span> </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employees <span class="keyword">values</span> (<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27; 王昭君 &#x27;</span> , <span class="string">&#x27; 女 &#x27;</span> , <span class="string">&#x27; 1003&#x27;</span>, <span class="string">&#x27; 开发 &#x27;</span> , <span class="string">&#x27; 群众 &#x27;</span> , <span class="string">&#x27;9&#x27;</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employees <span class="keyword">values</span> (<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27; 诸葛亮 &#x27;</span> , <span class="string">&#x27; 男 &#x27;</span> , <span class="string">&#x27; 1003&#x27;</span>, <span class="string">&#x27; 开发 &#x27;</span> , <span class="string">&#x27; 群众 &#x27;</span> , <span class="string">&#x27;9&#x27;</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employees <span class="keyword">values</span> (<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27; 张飞 &#x27;</span> , <span class="string">&#x27; 男 &#x27;</span> , <span class="string">&#x27; 1002&#x27;</span>, <span class="string">&#x27; 测试 &#x27;</span> , <span class="string">&#x27; 团员 &#x27;</span> , <span class="string">&#x27;4&#x27;</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employees <span class="keyword">values</span> (<span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27; 白起 &#x27;</span> , <span class="string">&#x27; 男 &#x27;</span> , <span class="string">&#x27; 1002&#x27;</span>, <span class="string">&#x27; 测试经理 &#x27;</span> , <span class="string">&#x27; 党员 &#x27;</span> , <span class="keyword">null</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employees <span class="keyword">values</span> (<span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27; 大乔 &#x27;</span> , <span class="string">&#x27; 女 &#x27;</span> , <span class="string">&#x27; 1002&#x27;</span>, <span class="string">&#x27; 测试 &#x27;</span> , <span class="string">&#x27; 党员 &#x27;</span> , <span class="string">&#x27;4&#x27;</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employees <span class="keyword">values</span> (<span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27; 孙尚香 &#x27;</span> , <span class="string">&#x27; 女 &#x27;</span> , <span class="string">&#x27; 1001&#x27;</span>, <span class="string">&#x27; 市场 &#x27;</span> , <span class="string">&#x27; 党员 &#x27;</span> , <span class="string">&#x27; 12&#x27;</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employees <span class="keyword">values</span> (<span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27; 百里玄策 &#x27;</span> , <span class="string">&#x27; 男 &#x27;</span> , <span class="string">&#x27; 1001&#x27;</span>, <span class="string">&#x27; 市场 &#x27;</span> , <span class="string">&#x27; 团员 &#x27;</span> , <span class="string">&#x27; 12&#x27;</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employees <span class="keyword">values</span> (<span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27; 小乔 &#x27;</span> , <span class="string">&#x27; 女 &#x27;</span> , <span class="string">&#x27; 1002&#x27;</span>, <span class="string">&#x27; 测试 &#x27;</span> , <span class="string">&#x27; 群众 &#x27;</span> , <span class="string">&#x27;4&#x27;</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employees <span class="keyword">values</span> (<span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27; 百里守约 &#x27;</span> , <span class="string">&#x27; 男 &#x27;</span> , <span class="string">&#x27; 1003&#x27;</span>, <span class="string">&#x27; 开发经理 &#x27;</span> , <span class="string">&#x27; 党员 &#x27;</span> , <span class="keyword">null</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employees <span class="keyword">values</span> (<span class="string">&#x27;10&#x27;</span>, <span class="string">&#x27; 妲己 &#x27;</span> , <span class="string">&#x27; 女 &#x27;</span> , <span class="string">&#x27; 1003&#x27;</span>, <span class="string">&#x27; 开发 &#x27;</span> , <span class="string">&#x27; 团员 &#x27;</span> , <span class="string">&#x27;9&#x27;</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employees <span class="keyword">values</span> (<span class="string">&#x27;11&#x27;</span>, <span class="string">&#x27; 李白 &#x27;</span> , <span class="string">&#x27; 男 &#x27;</span> , <span class="string">&#x27; 1002&#x27;</span>, <span class="string">&#x27; 测试 &#x27;</span> , <span class="string">&#x27; 团员 &#x27;</span> , <span class="string">&#x27;4&#x27;</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employees <span class="keyword">values</span> (<span class="string">&#x27;12&#x27;</span>, <span class="string">&#x27; 孙膑 &#x27;</span> , <span class="string">&#x27; 男 &#x27;</span> , <span class="string">&#x27; 1001&#x27;</span>, <span class="string">&#x27; 市场经理 &#x27;</span> , <span class="string">&#x27; 党员 &#x27;</span> , <span class="keyword">null</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employees <span class="keyword">values</span> (<span class="string">&#x27;13&#x27;</span>, <span class="string">&#x27; 周瑜 &#x27;</span> , <span class="string">&#x27; 男 &#x27;</span> , <span class="string">&#x27; 1001&#x27;</span>, <span class="string">&#x27; 市场 &#x27;</span> , <span class="string">&#x27; 群众 &#x27;</span> , <span class="string">&#x27; 12&#x27;</span>); </span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> salary; <span class="comment">/* 创建工资表 */</span> </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> salary ( </span><br><span class="line">	sid <span class="type">int</span> <span class="keyword">primary</span> key, </span><br><span class="line">	empid <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span>, <span class="comment">/* 职工编号 , 与 employees 表 empid 关联 */</span> </span><br><span class="line">	salary <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="comment">/* 工资 */</span> </span><br><span class="line">); <span class="comment">/* 向工资表插入数据 */</span> </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salary <span class="keyword">values</span> (<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;2100&#x27;</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salary <span class="keyword">values</span> (<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;2000&#x27;</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salary <span class="keyword">values</span> (<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;12&#x27;</span>, <span class="string">&#x27;5000&#x27;</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salary <span class="keyword">values</span> (<span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;1999&#x27;</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salary <span class="keyword">values</span> (<span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;10&#x27;</span>, <span class="string">&#x27;1900&#x27;</span>); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salary <span class="keyword">values</span> (<span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;3000&#x27;</span>); </span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/1119.png"></p>
<h2 id="查询练习"><a href="#查询练习" class="headerlink" title="查询练习"></a>查询练习</h2><p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/107.png"></p>
<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/108.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 列出男职工的总数和女职工的总数</span></span><br><span class="line"><span class="keyword">SELECT</span> sex,<span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> employees <span class="keyword">GROUP</span> <span class="keyword">BY</span> sex;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/109.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 列出非党员职工的总数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> employees <span class="keyword">WHERE</span> <span class="keyword">NOT</span> politicalstatus <span class="operator">=</span> <span class="string">&#x27; 党员 &#x27;</span></span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/110.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 列出所有职工工号、姓名以及所在部门名称</span></span><br><span class="line"><span class="keyword">SELECT</span> empid,empname,deptname <span class="keyword">FROM</span> employees emp <span class="keyword">INNER</span> <span class="keyword">JOIN</span> departments dp <span class="keyword">ON</span> emp.deptid<span class="operator">=</span>dp.deptid</span><br><span class="line"><span class="comment">-- 想要部门相同的一起列出在后面加oder by deptname</span></span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/111.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 列出所有职工工号、姓名和对应工资</span></span><br><span class="line"><span class="keyword">SELECT</span> emp.empid,empname,salary <span class="keyword">FROM</span> employees emp <span class="keyword">INNER</span> <span class="keyword">JOIN</span> salary s <span class="keyword">ON</span> emp.empid<span class="operator">=</span>s.empid <span class="keyword">ORDER</span> <span class="keyword">BY</span> emp.empid;</span><br><span class="line"><span class="comment">-- left join，没有工资的员工也显示</span></span><br><span class="line"><span class="keyword">SELECT</span> emp.empid,empname,salary <span class="keyword">FROM</span> employees emp <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> salary s <span class="keyword">ON</span> emp.empid<span class="operator">=</span>s.empid <span class="keyword">ORDER</span> <span class="keyword">BY</span> emp.empid;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/112.png"></p>
<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/113.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 列出领导岗的姓名以及所在部门名称</span></span><br><span class="line"><span class="keyword">SELECT</span> empname,deptname <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employees <span class="keyword">WHERE</span> leader <span class="keyword">is</span> <span class="keyword">NULL</span>) l <span class="keyword">INNER</span> <span class="keyword">JOIN</span> departments d <span class="keyword">ON</span> l.deptid<span class="operator">=</span>d.deptid</span><br><span class="line"><span class="comment">-- 方法2</span></span><br><span class="line"><span class="keyword">select</span> empname,deptname <span class="keyword">from</span> employees e <span class="keyword">inner</span> <span class="keyword">join</span> departments d <span class="keyword">on</span> e.depid <span class="operator">=</span>d.depid <span class="keyword">where</span> leader <span class="keyword">is</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/114.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 列出职工总人数大于4的部门号和总人数</span></span><br><span class="line"><span class="keyword">SELECT</span> deptid,<span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> employees <span class="keyword">GROUP</span> <span class="keyword">BY</span> deptid <span class="keyword">HAVING</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">4</span> </span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/115.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 列出职工总人数大于4的部门号和部门名称</span></span><br><span class="line"><span class="keyword">SELECT</span> e.deptid,deptname <span class="keyword">FROM</span> departments d <span class="keyword">INNER</span> <span class="keyword">JOIN</span> employees e <span class="keyword">ON</span> d.deptid<span class="operator">=</span>e.deptid <span class="keyword">GROUP</span> <span class="keyword">BY</span> e.deptid <span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">4</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/116.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 列出开发部和测试部的职工号，姓名</span></span><br><span class="line"><span class="keyword">SELECT</span> e.empid,e.empname <span class="keyword">FROM</span> employees e <span class="keyword">INNER</span> <span class="keyword">JOIN</span> departments d <span class="keyword">ON</span> e.deptid<span class="operator">=</span>d.deptid <span class="keyword">WHERE</span> deptname <span class="keyword">IN</span>(<span class="string">&#x27; 开发部 &#x27;</span>,<span class="string">&#x27; 测试部 &#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/117.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 列出市场部所有女职工的姓名和政治面貌</span></span><br><span class="line"><span class="keyword">SELECT</span> e.empname,e.politicalstatus <span class="keyword">FROM</span> employees e <span class="keyword">INNER</span> <span class="keyword">JOIN</span> departments d <span class="keyword">ON</span> e.deptid<span class="operator">=</span>d.deptid <span class="keyword">WHERE</span> deptname<span class="operator">=</span><span class="string">&#x27; 市场部 &#x27;</span> <span class="keyword">AND</span> sex<span class="operator">=</span><span class="string">&#x27; 女 &#x27;</span></span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/118.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 显示出所有职工姓名和工资，包括没有工资的职工姓名</span></span><br><span class="line"><span class="keyword">SELECT</span> e.empname,salary <span class="keyword">FROM</span> employees e <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> salary s <span class="keyword">ON</span> e.empid<span class="operator">=</span>s.empid</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/119.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 求不姓孙的所有职工的工资总和</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(salary) <span class="keyword">FROM</span> salary s <span class="keyword">INNER</span> <span class="keyword">JOIN</span> employees e <span class="keyword">ON</span> s.empid<span class="operator">=</span>e.empid <span class="keyword">WHERE</span> empname <span class="keyword">NOT</span> <span class="keyword">LIKE</span> <span class="string">&#x27; 孙% &#x27;</span></span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/120png"></p>
<h1 id="MySQL常用内置函数"><a href="#MySQL常用内置函数" class="headerlink" title="MySQL常用内置函数"></a>MySQL常用内置函数</h1><h2 id="字符串函数"><a href="#字符串函数" class="headerlink" title="字符串函数"></a>字符串函数</h2><ul>
<li>拼接字符串<code>concat(str1,str2...)</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 把12,34，&#x27;ab&#x27;拼接为一个字符串&#x27;1234ab&#x27;</span><br><span class="line">CONCAT(12,34,&#x27;ab&#x27;)</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/121.png"></p>
<ul>
<li>计算字符串中字节个数<code>length(str) </code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT LENGTH(&#x27;abc&#x27;);</span><br><span class="line">SELECT LENGTH(&#x27;我&#x27;);</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/122.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 查询名字为3个字的学生信息</span><br><span class="line">SELECT * FROM students WHERE LENGTH(name)=9;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/123.png"></p>
<ul>
<li>获取字符串中的字符数<code>char_length()</code></li>
<li>截取字符串<ul>
<li><code>left(str,len)</code>返回字符串str左端的len个字符,中文和英文字母一样</li>
<li><code>right(str,len)</code>返回字符串str右端的len个字符</li>
<li><code>substring(str,pos,len)</code>返回字符串str的位置pos起len个字符，<strong>pos从1开始计数</strong></li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT left(&#x27;我和你们&#x27;,3)</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/124.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT right(&#x27;我和你abc&#x27;,4)</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/125.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT substring(&#x27;我和你abc&#x27;,2,2)</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/126.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 查询所有学生信息，按年龄从大到小排序</span><br><span class="line">SELECT * FROM students ORDER BY SUBSTRING(card,7,8)</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/127.png"></p>
<ul>
<li>去除空格<ul>
<li><code>ltrim(str)</code>返回删除左侧空格的字符串</li>
<li><code>rtrim(str)</code>返回删除右侧空格的字符串</li>
<li><code>trim(str)</code>去除两侧空格</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT LTRIM(&#x27;                 abcd                     &#x27;);</span><br><span class="line">SELECT RTRIM(&#x27;                 abcd                     &#x27;);</span><br><span class="line">SELECT TRIM(&#x27;                 abcd                     &#x27;);</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/128.png"></p>
<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/129.png"></p>
<h2 id="数学函数"><a href="#数学函数" class="headerlink" title="数学函数"></a>数学函数</h2><ul>
<li>求四舍五入值<code>round(n,d)</code>,n表示原数，d表示小数位数，默认为0</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT ROUND(1.653)</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/130.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT ROUND(1.653,2)</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/131.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 求学生的平均年龄并保留2位小数</span><br><span class="line">SELECT ROUND(AVG(age),2) FROM students;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/132.png"></p>
<ul>
<li>随机数<code>rand()</code>产生从0到1.0的随机浮点数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT RAND();</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/133.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 随机排序</span><br><span class="line">SELECT * FROM students ORDER BY RAND();</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/134.png"></p>
<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/135.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 随机抽取一名学生</span><br><span class="line">SELECT name FROM students ORDER BY RAND() LIMIT 1;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/136.png"></p>
<h2 id="日期时间函数"><a href="#日期时间函数" class="headerlink" title="日期时间函数"></a>日期时间函数</h2><ul>
<li>当前日期<code>current_date()</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT CURRENT_DATE</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/137.png"></p>
<ul>
<li>当前时间<code>current_time()</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT CURRENT_TIME</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/138.png"></p>
<ul>
<li>当前时间（具体）<code>now()</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT NOW()</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/139.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- 记录当前时间，比如下单时间</span><br><span class="line">CREATE table a (id INT,indate DATETIME);</span><br><span class="line">INSERT INTO a VALUE(1,NOW());</span><br><span class="line">SELECT * FROM a;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/140.png"></p>
<h1 id="存储过程"><a href="#存储过程" class="headerlink" title="存储过程"></a>存储过程</h1><p>存储过程procedure，即存储程序，是一条或者多条SQL语句的集合。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 语法</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> 存储过程名称(参数名称)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">sql</span> 语句</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建存储过程</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> stu()</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students;</span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/141.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 调用存储过程stu()，用CALL</span></span><br><span class="line"><span class="keyword">CALL</span> stu();</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/142.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除存储过程</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">procedure</span> 存储过程;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">procedure</span> if <span class="keyword">exists</span> 存储过程;</span><br><span class="line"><span class="comment">-- 删除时不用括号</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> stu;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> IF <span class="keyword">EXISTS</span> stu;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/143.png"></p>
<h1 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h1><p>视图（View）是一种虚拟的表，它是由一个或多个表的行数据经过某种逻辑组合而形成的，它本身并不存储数据，只是对查询结果的一种抽象表示。通过视图，我们可以将复杂的查询、逻辑和数据组织进行封装，以简化数据访问和管理。视图的本质就是对查询的封装。</p>
<ol>
<li><strong>虚拟性</strong>：视图本身不存储数据，它只是对查询结果的一种逻辑表示。</li>
<li><strong>透明性</strong>：使用视图的应用程序无需关心视图的底层实现，可以像访问普通表一样访问视图。</li>
<li><strong>安全性</strong>：视图可以隐藏底层表的部分列或行，只向用户暴露需要的数据，从而提高数据安全性。</li>
<li><strong>简化复杂性</strong>：通过视图，可以将复杂的查询逻辑封装起来，使用户可以通过简单的查询访问数据。</li>
<li><strong>重用性</strong>：视图可以被多个查询或应用程序共享，提高了代码的重用性。</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建视图</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> 视图名称 <span class="keyword">as</span> <span class="keyword">select</span> 语句;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> boys <span class="keyword">as</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> sex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/144.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看视图</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> boys <span class="keyword">WHERE</span> age<span class="operator">&gt;</span><span class="number">30</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/145.png"></p>
<p><strong>注意：视图的表是只读的</strong>。需要注意的是，视图中的数据是动态的，当基础表中的数据发生变化时，视图中的数据也会相应地更新。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 视图和表进行内连接操作</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> boys <span class="keyword">INNER</span> <span class="keyword">JOIN</span> scores <span class="keyword">ON</span> boys.studentNo<span class="operator">=</span>scores.studentNO</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/146.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除视图</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> 视图名称;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> if <span class="keyword">exists</span> 视图名称;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> boys;</span><br></pre></td></tr></table></figure>

<h1 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h1><p>事务是多条更改数据操作的sql语句集合，是一个操作序列，这些操作要么都执行，要么都不执行，是一个不可分割的工作单位</p>
<ul>
<li>开启事务</li>
</ul>
<p>begin：开启事务后执行<strong>修改</strong>UPDATE或者<strong>删除</strong>DELETE记录语句，<strong>变更会写到缓存中而不会立刻生效</strong></p>
<ul>
<li>回滚事务</li>
</ul>
<p>rollback：放弃修改</p>
<ul>
<li>提交事务</li>
</ul>
<p>commit：将修改的事务写入实际的表中</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BEGIN</span>;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> studentNo<span class="operator">=</span><span class="string">&#x27;001&#x27;</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> scores <span class="keyword">WHERE</span> studentNo<span class="operator">=</span><span class="string">&#x27;001&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/147.png"></p>
<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/148.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 回滚操作</span></span><br><span class="line"><span class="keyword">ROLLBACK</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> scores;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/149.png"></p>
<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/150.png"></p>
<p><strong>如果开启了一个事务，之后没有rollback也没有commit，系统出现了错误，会默认rollback</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 开启事务，删除学生信息和成绩，提交事务使两个表的删除同时生效</span></span><br><span class="line"><span class="keyword">BEGIN</span>;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> studentNo<span class="operator">=</span><span class="string">&#x27;001&#x27;</span>;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> scores <span class="keyword">WHERE</span> studentNo<span class="operator">=</span><span class="string">&#x27;001&#x27;</span>;</span><br><span class="line"><span class="keyword">COMMIT</span>;<span class="comment">-- 一旦提交事务，两个删除操作同时生效</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> scores;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/151.png"></p>
<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/152.png"></p>
<h1 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h1><p>可以加快select查询的速度，但是会降低更新表的速度，因为在保存文件的同时会同时保存索引文件。可以在更改记录前先删除索引</p>
<h2 id="创建索引"><a href="#创建索引" class="headerlink" title="创建索引"></a>创建索引</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> index 索引名称 <span class="keyword">on</span> 表名(字段名称(长度))</span><br><span class="line"><span class="comment">-- 如果指定字段是字符串，需要指定长度，建议长度与定义字段时长度一致</span></span><br><span class="line"><span class="comment">-- 字段类型如果不是字符串，可以不填写长度部分</span></span><br></pre></td></tr></table></figure>

<hr>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 为students表的age字段创建索引，名为age_index</span></span><br><span class="line"><span class="keyword">CREATE</span> INDEX age_index <span class="keyword">ON</span> students (age);</span><br><span class="line"><span class="comment">-- 为students表的name字段创建索引，名为name_index</span></span><br><span class="line"><span class="keyword">CREATE</span> INDEX name_index <span class="keyword">ON</span> students (name(<span class="number">10</span>));</span><br><span class="line"><span class="comment">-- varchar(10)</span></span><br></pre></td></tr></table></figure>

<hr>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- where条件后面的字段，数据库系统会自动查找是否有索引</span></span><br><span class="line"><span class="comment">-- 自动调用age_index</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> age<span class="operator">=</span><span class="number">30</span>;</span><br><span class="line"><span class="comment">-- 自动调用name_index</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> name<span class="operator">=</span><span class="string">&#x27;李白&#x27;</span></span><br><span class="line"><span class="comment">-- 不会调用任何索引，因为没有创建索引，会全表一个个查找</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> students <span class="keyword">WHERE</span> name<span class="operator">=</span><span class="string">&#x27;李白&#x27;</span></span><br></pre></td></tr></table></figure>



<h2 id="查看索引"><a href="#查看索引" class="headerlink" title="查看索引"></a>查看索引</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> index <span class="keyword">from</span> 表名</span><br><span class="line"><span class="keyword">SHOW</span> INDEX <span class="keyword">FROM</span> students</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/153.png"></p>
<p>系统会为主键自动创建索引</p>
<h2 id="删除索引"><a href="#删除索引" class="headerlink" title="删除索引"></a>删除索引</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> index 索引名 <span class="keyword">on</span> 表名;</span><br><span class="line"><span class="keyword">DROP</span> INDEX age_index <span class="keyword">ON</span> students;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/154.png"></p>
<h1 id="使用命令行"><a href="#使用命令行" class="headerlink" title="使用命令行"></a>使用命令行</h1><h2 id="使用数据库"><a href="#使用数据库" class="headerlink" title="使用数据库"></a>使用数据库</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 登录</span></span><br><span class="line">mysql <span class="operator">-</span>h[主机名] <span class="operator">-</span>u 用户名 <span class="operator">-</span>p</span><br><span class="line"><span class="comment">-- -u的意思是用户名</span></span><br><span class="line"><span class="comment">-- -h，当登录的mysql不在本机上，后跟主机ip地址</span></span><br></pre></td></tr></table></figure>

<hr>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql <span class="operator">-</span>u root <span class="operator">-</span>p</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/155.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看数据库</span></span><br><span class="line"><span class="keyword">show</span> databases;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/156.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 打开数据库</span></span><br><span class="line">use mydb;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看数据库中的表</span></span><br><span class="line"><span class="keyword">show</span> tables;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/157.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询内容</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/158.png"></p>
<p>可以使用<code>chcp 65001</code>将命令行编码方式改为utf-8</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看表的结构</span></span><br><span class="line"><span class="keyword">desc</span> students;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/159.png"></p>
<hr>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建数据库</span></span><br><span class="line"><span class="keyword">create</span> database 数据库名 <span class="keyword">default</span> charset[默认字符集];</span><br><span class="line"><span class="keyword">create</span> database test1 <span class="keyword">default</span> charset utf8;</span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/160.png"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除数据库</span></span><br><span class="line"><span class="keyword">drop</span> database test1;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img lazyload alt="image" data-src="keep/source/images/star.gif" data-original="/2024/04/04/sql%E5%9F%BA%E7%A1%80/161.png"></p>
<h2 id="修改用户密码"><a href="#修改用户密码" class="headerlink" title="修改用户密码"></a>修改用户密码</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">on</span> 数据库名 <span class="keyword">to</span> 用户名@<span class="string">&#x27;登录主机&#x27;</span> indentified <span class="keyword">by</span> <span class="string">&#x27;密码&#x27;</span> <span class="keyword">with</span> <span class="keyword">grant</span> option;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>grant all on</code>:代表为用户赋权；</li>
<li>数据库名：可以是*，代表所有数据库；</li>
<li>表名：可以是*，代表所有表，</li>
<li><code>to 用户名</code>：指定要创建用户的名称</li>
<li><code>@&#39;登录主机&#39; </code>:@localhost代表只能在本机登录，@’%‘代表可以远程</li>
</ul>

                </div>
                
                        
<div class="post-copyright-info-container border-box">
    <div class="copyright-info-content border-box">
        <div class="copyright-info-top border-box">
            <div class="copyright-post-title border-box text-ellipsis">
                sql基础
            </div>

            <div class="copyright-post-link border-box text-ellipsis">
                2024/04/04/sql基础/
            </div>
        </div>

        <div class="copyright-info-bottom border-box">
            <div class="copyright-post-author bottom-item">
                <div class="type">
                    Author
                </div>
                <div class="content">Elora</div>
            </div>

            <div class="post-time bottom-item">
                <div class="type">
                    Published
                </div>
                <div class="content">2024-04-04 14:35</div>
            </div>


            <div class="post-license bottom-item">
                <div class="type">
                    License
                </div>
                <div class="content tooltip" data-tooltip-content="CC BY-NC-SA 4.0">
                    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed" target="_blank">
                        
                            <i class="fa-brands fa-creative-commons"></i>
                            <i class="fa-brands fa-creative-commons-by"></i>
                            <i class="fa-brands fa-creative-commons-nc"></i>
                            <i class="fa-brands fa-creative-commons-sa"></i>
                        
                    </a>
                </div>
            </div>
        </div>

        <i class="copyright-bg fa-solid fa-copyright"></i>
    </div>
    <div class="copy-copyright-info flex-center tooltip" data-tooltip-content="Copy copyright info" data-tooltip-offset-y="-2px">
        <i class="fa-solid fa-copy"></i>
    </div>
</div>

                

                <div class="post-bottom-tags-and-share border-box">
                    <div>
                        
                            <ul class="post-tags-box border-box">
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/sql/">sql</a>
                                    </li>
                                
                            </ul>
                        
                    </div>
                    <div>
                        
                            <div class="post-share-container border-box">
    <ul class="share-list-wrap border-box">
        <li class="qq share-item border-box flex-center tooltip"
            data-tooltip-content="Share to QQ"
        >
            <i class="fa-brands fa-qq"></i>
        </li>
        <li class="wechat share-item border-box flex-center tooltip tooltip-img"
            data-tooltip-content="Share to WeChat"
            data-tooltip-img-tip="Scan by WeChat"
            data-tooltip-img-style="background-color: #fff; top: -10px; padding: 0.6rem 0.6rem 0.1rem 0.6rem;"
        >
            <i class="fa-brands fa-weixin"></i>
        </li>
        <li class="weibo share-item border-box flex-center tooltip"
            data-tooltip-content="Share to WeiBo"
        >
            <i class="fa-brands fa-weibo"></i>
        </li>
    </ul>
</div>

                        
                    </div>
                </div>

                
                    <div class="reward-author-container border-box flex-center">
    <div class="reward-btn keep-button border-box flex-center tooltip tooltip-img"
            data-tooltip-content="请作者喝奶茶"
            data-tooltip-img-url="/images/reward.png"
            data-tooltip-img-trigger="click"
            data-tooltip-img-style="top: -8px;"
    >
        <i class="fa-solid fa-hand-holding-heart"></i>
    </div>
</div>

                

                
                    <div class="post-nav border-box">
                        
                            <div class="prev-post">
                                <a class="prev"
                                   rel="prev"
                                   href="/2024/04/05/Linux%E5%9F%BA%E7%A1%80/"
                                   title="Linux基础"
                                >
                                    <span class="left arrow-icon flex-center">
                                        <i class="fas fa-chevron-left"></i>
                                    </span>
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">Linux基础</span>
                                        <span class="post-nav-item">Prev posts</span>
                                    </span>
                                </a>
                            </div>
                        
                        
                            <div class="next-post">
                                <a class="next"
                                   rel="next"
                                   href="/2024/03/31/git%E6%93%8D%E4%BD%9C/"
                                   title="git操作"
                                >
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">git操作</span>
                                        <span class="post-nav-item">Next posts</span>
                                    </span>
                                    <span class="right arrow-icon flex-center">
                                        <i class="fas fa-chevron-right"></i>
                                    </span>
                                </a>
                            </div>
                        
                    </div>
                

                
                    


    <div class="comments-container border-box">
        <div id="comments-anchor" class="comment-area-title border-box">
            <i class="fas fa-comments"></i>&nbsp;Comments
        </div>
        <div class="comment-plugin-fail border-box">
    <span class="fail-tip">Comment plugin failed to load</span>
    <button class="reload keep-button">Click to reload</button>
</div>
<div class="comment-plugin-loading flex-center border-box">
    <i class="loading-icon fa-solid fa-spinner fa-spin"></i>
    <span class="load-tip">Loading comment plugin</span>
</div>
<script data-pjax>
  window.KeepCommentPlugin = {}
  window.KeepCommentPlugin.hideLoading = () => {
    const cplDom = document.querySelector('.comments-container .comment-plugin-loading')
    cplDom.style.display = 'none'
  }
  window.KeepCommentPlugin.loadFailHandle = () => {
    window.KeepCommentPlugin.hideLoading()
    const cpfDom = document.querySelector('.comments-container .comment-plugin-fail')
    cpfDom.style.display = 'flex'
    cpfDom.querySelector('.reload').addEventListener('click', () => {
      window.location.reload()
    })
  }
</script>

        
            

    <div class="valine-container">
        <div id="vcomments"></div>
        <script data-pjax
                src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"
                async
                onerror="window.KeepCommentPlugin.loadFailHandle()"
        ></script>
        <script data-pjax
                async
                onerror="window.KeepCommentPlugin.loadFailHandle()"
        >
          window.KeepCommentPlugin.initValine = () => {
            const config = {
              el: '#vcomments',
              appId: 'oKezB5PXBe6SFd75Ab2I1igt-gzGzoHsz',
              appKey: 'ZyjE4IekdBOYhHEQyVhPqWf9',
              meta: ['nick', 'mail', 'link'],
              avatar: 'wavatar',
              enableQQ: true,
              placeholder: 'say something..',
              lang: 'en'.toLowerCase()
            }

            if ('') {
              config.serverURLs = ''
            }

            if (window?.Valine) {
              new Valine(config)
              window.KeepCommentPlugin.hideLoading()
            } else {
              setTimeout(() => {
                window.KeepCommentPlugin.initValine()
              }, 1000)
            }
          }

          if ('true' === 'true') {
            setTimeout(() => {
              window.KeepCommentPlugin.initValine()
            }, 1200)
          } else {
            window.addEventListener('DOMContentLoaded', window.KeepCommentPlugin.initValine)
          }
        </script>
    </div>


        
    </div>





                
            </div>
        </div>

        
            <div class="pc-post-toc left-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A1%A8"><span class="nav-number">1.</span> <span class="nav-text">表</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL%E8%AF%AD%E8%A8%80%EF%BC%88structured-query-language"><span class="nav-number">2.</span> <span class="nav-text">SQL语言（structured query language)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%A8%E9%87%8A"><span class="nav-number">2.1.</span> <span class="nav-text">注释</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MySQL%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.</span> <span class="nav-text">MySQL常用数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A1%A8%E3%80%81%E5%AD%97%E6%AE%B5%E3%80%81%E8%AE%B0%E5%BD%95"><span class="nav-number">3.1.</span> <span class="nav-text">表、字段、记录</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8-CREATE-TABLE"><span class="nav-number">3.1.1.</span> <span class="nav-text">创建表 CREATE TABLE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#INSERT%E6%8F%92%E5%85%A5%E8%AE%B0%E5%BD%95"><span class="nav-number">3.1.2.</span> <span class="nav-text">INSERT插入记录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SELECT-%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2"><span class="nav-number">3.1.3.</span> <span class="nav-text">SELECT 简单查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UPDATE-%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE"><span class="nav-number">3.1.4.</span> <span class="nav-text">UPDATE 修改数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DELETE%E5%88%A0%E9%99%A4%E8%A1%A8%E7%9A%84%E8%AE%B0%E5%BD%95"><span class="nav-number">3.1.5.</span> <span class="nav-text">DELETE删除表的记录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TEUNCATE%E5%88%A0%E9%99%A4%E8%A1%A8%E7%9A%84%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%EF%BC%8C%E4%BF%9D%E7%95%99%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="nav-number">3.1.6.</span> <span class="nav-text">TEUNCATE删除表的所有数据，保留表结构</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DELETE%E4%B8%8ETRUNCATE%E5%8C%BA%E5%88%AB"><span class="nav-number">3.1.6.1.</span> <span class="nav-text">DELETE与TRUNCATE区别</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DROP-TABLE%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="nav-number">3.1.7.</span> <span class="nav-text">DROP TABLE删除表</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%97%E6%AE%B5%E7%9A%84%E7%BA%A6%E6%9D%9F"><span class="nav-number">4.</span> <span class="nav-text">字段的约束</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E7%BA%A6%E6%9D%9F"><span class="nav-number">4.1.</span> <span class="nav-text">常用的约束</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BB%E9%94%AE"><span class="nav-number">4.2.</span> <span class="nav-text">主键</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%9E%E7%A9%BA"><span class="nav-number">4.3.</span> <span class="nav-text">非空</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%94%AF%E4%B8%80"><span class="nav-number">4.4.</span> <span class="nav-text">唯一</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="nav-number">4.5.</span> <span class="nav-text">默认值</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="nav-number">5.</span> <span class="nav-text">条件查询</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87"><span class="nav-number">5.1.</span> <span class="nav-text">数据准备</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2"><span class="nav-number">5.2.</span> <span class="nav-text">查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%AB%E5%90%8D"><span class="nav-number">5.2.1.</span> <span class="nav-text">别名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8Ddistinct"><span class="nav-number">5.2.2.</span> <span class="nav-text">去除重复distinct</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#where%E5%AD%90%E5%8F%A5"><span class="nav-number">5.3.</span> <span class="nav-text">where子句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">5.3.1.</span> <span class="nav-text">比较运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">5.3.2.</span> <span class="nav-text">逻辑运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8C%83%E5%9B%B4%E6%9F%A5%E6%89%BE"><span class="nav-number">5.3.3.</span> <span class="nav-text">范围查找</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A9%BA%E5%88%A4%E6%96%AD"><span class="nav-number">5.3.4.</span> <span class="nav-text">空判断</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#where%E5%9C%A8update%E5%92%8Cdelete"><span class="nav-number">5.4.</span> <span class="nav-text">where在update和delete</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F-order-by"><span class="nav-number">5.5.</span> <span class="nav-text">排序 order by</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="nav-number">5.6.</span> <span class="nav-text">聚合函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#count%E6%80%BB%E8%AE%B0%E5%BD%95%E6%95%B0"><span class="nav-number">5.6.1.</span> <span class="nav-text">count总记录数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#max%E6%9C%80%E5%A4%A7%E5%80%BC"><span class="nav-number">5.6.2.</span> <span class="nav-text">max最大值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#min%E6%9C%80%E5%B0%8F%E5%80%BC"><span class="nav-number">5.6.3.</span> <span class="nav-text">min最小值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sum%E6%B1%82%E5%92%8C"><span class="nav-number">5.6.4.</span> <span class="nav-text">sum求和</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#avg%E5%B9%B3%E5%9D%87%E5%B9%B4%E9%BE%84"><span class="nav-number">5.6.5.</span> <span class="nav-text">avg平均年龄</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mod-%E5%8F%96%E4%BD%99"><span class="nav-number">5.6.6.</span> <span class="nav-text">mod()取余</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E7%BB%84"><span class="nav-number">5.7.</span> <span class="nav-text">数据分组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E7%BB%84%E5%90%8E%E8%BF%9B%E8%A1%8C%E7%AD%9B%E9%80%89"><span class="nav-number">5.7.1.</span> <span class="nav-text">分组后进行筛选</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E6%AF%94where%E5%92%8Chaving"><span class="nav-number">5.7.1.1.</span> <span class="nav-text">对比where和having</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E9%A1%B5%E6%98%BE%E7%A4%BA"><span class="nav-number">5.8.</span> <span class="nav-text">数据分页显示</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E9%A1%B5"><span class="nav-number">5.8.1.</span> <span class="nav-text">分页</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-number">6.</span> <span class="nav-text">多表查询</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87-1"><span class="nav-number">6.1.</span> <span class="nav-text">数据准备</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="nav-number">6.2.</span> <span class="nav-text">内连接</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9A%90%E5%BC%8F%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="nav-number">6.2.1.</span> <span class="nav-text">隐式内连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E8%A1%A8%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="nav-number">6.2.2.</span> <span class="nav-text">多表内连接</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B7%A6%E8%BF%9E%E6%8E%A5"><span class="nav-number">6.3.</span> <span class="nav-text">左连接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%B3%E8%BF%9E%E6%8E%A5"><span class="nav-number">6.4.</span> <span class="nav-text">右连接</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%87%AA%E5%85%B3%E8%81%94"><span class="nav-number">7.</span> <span class="nav-text">自关联</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-number">8.</span> <span class="nav-text">子查询</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2%E5%92%8C%E4%B8%BB%E6%9F%A5%E8%AF%A2%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-number">8.1.</span> <span class="nav-text">子查询和主查询的关系</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87-2"><span class="nav-number">8.2.</span> <span class="nav-text">数据准备</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2%E7%BB%83%E4%B9%A0"><span class="nav-number">8.3.</span> <span class="nav-text">查询练习</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MySQL%E5%B8%B8%E7%94%A8%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="nav-number">9.</span> <span class="nav-text">MySQL常用内置函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="nav-number">9.1.</span> <span class="nav-text">字符串函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0"><span class="nav-number">9.2.</span> <span class="nav-text">数学函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0"><span class="nav-number">9.3.</span> <span class="nav-text">日期时间函数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="nav-number">10.</span> <span class="nav-text">存储过程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE"><span class="nav-number">11.</span> <span class="nav-text">视图</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1"><span class="nav-number">12.</span> <span class="nav-text">事务</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95"><span class="nav-number">13.</span> <span class="nav-text">索引</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95"><span class="nav-number">13.1.</span> <span class="nav-text">创建索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95"><span class="nav-number">13.2.</span> <span class="nav-text">查看索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95"><span class="nav-number">13.3.</span> <span class="nav-text">删除索引</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="nav-number">14.</span> <span class="nav-text">使用命令行</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">14.1.</span> <span class="nav-text">使用数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81"><span class="nav-number">14.2.</span> <span class="nav-text">修改用户密码</span></a></li></ol></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>
        </div>

        <div class="page-main-content-bottom border-box">
            
<footer class="footer border-box">
    <div class="border-box website-info-box default">
        
            <div class="copyright-info info-item default">
                &copy;&nbsp;<span>2020</span>&nbsp;-&nbsp;2024
                
                    &nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;&nbsp;<a href="/">Elora</a>
                
            </div>

            <div class="theme-info info-item default">
                Powered by&nbsp;<a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;&&nbsp;Theme&nbsp;<a class="keep-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep</a>
            </div>

            

            
                
                <div class="deploy-info info-item default">
                    
                        This site is deployed on <span class="tooltip" data-tooltip-content="GitHub Pages"><img src="/images/deploy-provider/github.png"></span>
                    
                </div>
            
        

        <div class="count-item info-item default">
            
                <span class="count-box border-box word">
                    <span class="item-type border-box">Total words</span>
                    <span class="item-value border-box word">67.9k</span>
                </span>
            

            
                <span class="count-box border-box uv">
                    <span class="item-type border-box">Unique Visitor</span>
                    <span class="item-value border-box uv" id="busuanzi_value_site_uv"></span>
                </span>
            

            
                <span class="count-box border-box pv">
                    <span class="item-type border-box">Page View</span>
                    <span class="item-value border-box pv" id="busuanzi_value_site_pv"></span>
                </span>
            
        </div>
    </div>
</footer>

        </div>
    </div>

    <!-- post tools -->
    
        <div class="post-tools left-toc">
            <div class="post-tools-container border-box">
    <ul class="tools-list border-box">
        <!-- PC TOC show toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- PC go comment -->
        
            <li class="tools-item flex-center go-to-comments">
                <i class="fas fa-comment"></i>
                <span class="post-comments-count"></span>
            </li>
        

        <!-- PC full screen -->
        <li class="tools-item flex-center full-screen">
            <i class="fa-solid fa-expand"></i>
        </li>
    </ul>
</div>

        </div>
    

    <!-- side tools -->
    <div class="side-tools">
        <div class="side-tools-container border-box ">
    <ul class="side-tools-list side-tools-show-handle border-box">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-toggle-theme-mode flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list border-box">
        
            <li class="tools-item toggle-show-toc-tablet flex-center">
                <i class="fas fa-list"></i>
            </li>
        

        
            <li class="tools-item go-to-comments-tablet flex-center">
                <i class="fas fa-comment"></i>
            </li>
        

        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>

        <li class="tools-item tool-scroll-to-top flex-center show-arrow">
            <i class="arrow fas fa-arrow-up"></i>
            <span class="percent"></span>
        </li>
    </ul>
</div>

    </div>

    <!-- image mask -->
    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    <!-- local search -->
    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

    <!-- tablet toc -->
    
        <div class="tablet-post-toc-mask">
            <div class="tablet-post-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A1%A8"><span class="nav-number">1.</span> <span class="nav-text">表</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL%E8%AF%AD%E8%A8%80%EF%BC%88structured-query-language"><span class="nav-number">2.</span> <span class="nav-text">SQL语言（structured query language)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%A8%E9%87%8A"><span class="nav-number">2.1.</span> <span class="nav-text">注释</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MySQL%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.</span> <span class="nav-text">MySQL常用数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A1%A8%E3%80%81%E5%AD%97%E6%AE%B5%E3%80%81%E8%AE%B0%E5%BD%95"><span class="nav-number">3.1.</span> <span class="nav-text">表、字段、记录</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8-CREATE-TABLE"><span class="nav-number">3.1.1.</span> <span class="nav-text">创建表 CREATE TABLE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#INSERT%E6%8F%92%E5%85%A5%E8%AE%B0%E5%BD%95"><span class="nav-number">3.1.2.</span> <span class="nav-text">INSERT插入记录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SELECT-%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2"><span class="nav-number">3.1.3.</span> <span class="nav-text">SELECT 简单查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UPDATE-%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE"><span class="nav-number">3.1.4.</span> <span class="nav-text">UPDATE 修改数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DELETE%E5%88%A0%E9%99%A4%E8%A1%A8%E7%9A%84%E8%AE%B0%E5%BD%95"><span class="nav-number">3.1.5.</span> <span class="nav-text">DELETE删除表的记录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TEUNCATE%E5%88%A0%E9%99%A4%E8%A1%A8%E7%9A%84%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%EF%BC%8C%E4%BF%9D%E7%95%99%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="nav-number">3.1.6.</span> <span class="nav-text">TEUNCATE删除表的所有数据，保留表结构</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DELETE%E4%B8%8ETRUNCATE%E5%8C%BA%E5%88%AB"><span class="nav-number">3.1.6.1.</span> <span class="nav-text">DELETE与TRUNCATE区别</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DROP-TABLE%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="nav-number">3.1.7.</span> <span class="nav-text">DROP TABLE删除表</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%97%E6%AE%B5%E7%9A%84%E7%BA%A6%E6%9D%9F"><span class="nav-number">4.</span> <span class="nav-text">字段的约束</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E7%BA%A6%E6%9D%9F"><span class="nav-number">4.1.</span> <span class="nav-text">常用的约束</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BB%E9%94%AE"><span class="nav-number">4.2.</span> <span class="nav-text">主键</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%9E%E7%A9%BA"><span class="nav-number">4.3.</span> <span class="nav-text">非空</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%94%AF%E4%B8%80"><span class="nav-number">4.4.</span> <span class="nav-text">唯一</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="nav-number">4.5.</span> <span class="nav-text">默认值</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="nav-number">5.</span> <span class="nav-text">条件查询</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87"><span class="nav-number">5.1.</span> <span class="nav-text">数据准备</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2"><span class="nav-number">5.2.</span> <span class="nav-text">查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%AB%E5%90%8D"><span class="nav-number">5.2.1.</span> <span class="nav-text">别名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8Ddistinct"><span class="nav-number">5.2.2.</span> <span class="nav-text">去除重复distinct</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#where%E5%AD%90%E5%8F%A5"><span class="nav-number">5.3.</span> <span class="nav-text">where子句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">5.3.1.</span> <span class="nav-text">比较运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">5.3.2.</span> <span class="nav-text">逻辑运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8C%83%E5%9B%B4%E6%9F%A5%E6%89%BE"><span class="nav-number">5.3.3.</span> <span class="nav-text">范围查找</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A9%BA%E5%88%A4%E6%96%AD"><span class="nav-number">5.3.4.</span> <span class="nav-text">空判断</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#where%E5%9C%A8update%E5%92%8Cdelete"><span class="nav-number">5.4.</span> <span class="nav-text">where在update和delete</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F-order-by"><span class="nav-number">5.5.</span> <span class="nav-text">排序 order by</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="nav-number">5.6.</span> <span class="nav-text">聚合函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#count%E6%80%BB%E8%AE%B0%E5%BD%95%E6%95%B0"><span class="nav-number">5.6.1.</span> <span class="nav-text">count总记录数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#max%E6%9C%80%E5%A4%A7%E5%80%BC"><span class="nav-number">5.6.2.</span> <span class="nav-text">max最大值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#min%E6%9C%80%E5%B0%8F%E5%80%BC"><span class="nav-number">5.6.3.</span> <span class="nav-text">min最小值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sum%E6%B1%82%E5%92%8C"><span class="nav-number">5.6.4.</span> <span class="nav-text">sum求和</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#avg%E5%B9%B3%E5%9D%87%E5%B9%B4%E9%BE%84"><span class="nav-number">5.6.5.</span> <span class="nav-text">avg平均年龄</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mod-%E5%8F%96%E4%BD%99"><span class="nav-number">5.6.6.</span> <span class="nav-text">mod()取余</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E7%BB%84"><span class="nav-number">5.7.</span> <span class="nav-text">数据分组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E7%BB%84%E5%90%8E%E8%BF%9B%E8%A1%8C%E7%AD%9B%E9%80%89"><span class="nav-number">5.7.1.</span> <span class="nav-text">分组后进行筛选</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E6%AF%94where%E5%92%8Chaving"><span class="nav-number">5.7.1.1.</span> <span class="nav-text">对比where和having</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E9%A1%B5%E6%98%BE%E7%A4%BA"><span class="nav-number">5.8.</span> <span class="nav-text">数据分页显示</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E9%A1%B5"><span class="nav-number">5.8.1.</span> <span class="nav-text">分页</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-number">6.</span> <span class="nav-text">多表查询</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87-1"><span class="nav-number">6.1.</span> <span class="nav-text">数据准备</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="nav-number">6.2.</span> <span class="nav-text">内连接</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9A%90%E5%BC%8F%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="nav-number">6.2.1.</span> <span class="nav-text">隐式内连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E8%A1%A8%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="nav-number">6.2.2.</span> <span class="nav-text">多表内连接</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B7%A6%E8%BF%9E%E6%8E%A5"><span class="nav-number">6.3.</span> <span class="nav-text">左连接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%B3%E8%BF%9E%E6%8E%A5"><span class="nav-number">6.4.</span> <span class="nav-text">右连接</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%87%AA%E5%85%B3%E8%81%94"><span class="nav-number">7.</span> <span class="nav-text">自关联</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-number">8.</span> <span class="nav-text">子查询</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2%E5%92%8C%E4%B8%BB%E6%9F%A5%E8%AF%A2%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-number">8.1.</span> <span class="nav-text">子查询和主查询的关系</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87-2"><span class="nav-number">8.2.</span> <span class="nav-text">数据准备</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2%E7%BB%83%E4%B9%A0"><span class="nav-number">8.3.</span> <span class="nav-text">查询练习</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MySQL%E5%B8%B8%E7%94%A8%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="nav-number">9.</span> <span class="nav-text">MySQL常用内置函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="nav-number">9.1.</span> <span class="nav-text">字符串函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0"><span class="nav-number">9.2.</span> <span class="nav-text">数学函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0"><span class="nav-number">9.3.</span> <span class="nav-text">日期时间函数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="nav-number">10.</span> <span class="nav-text">存储过程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE"><span class="nav-number">11.</span> <span class="nav-text">视图</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1"><span class="nav-number">12.</span> <span class="nav-text">事务</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95"><span class="nav-number">13.</span> <span class="nav-text">索引</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95"><span class="nav-number">13.1.</span> <span class="nav-text">创建索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95"><span class="nav-number">13.2.</span> <span class="nav-text">查看索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95"><span class="nav-number">13.3.</span> <span class="nav-text">删除索引</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="nav-number">14.</span> <span class="nav-text">使用命令行</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">14.1.</span> <span class="nav-text">使用数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81"><span class="nav-number">14.2.</span> <span class="nav-text">修改用户密码</span></a></li></ol></li></ol>
    </div>
</div>

            </div>
        </div>
    
</main>



<!-- common -->

<script src="/js/utils.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/toggle-theme.js"></script>

<script src="/js/code-block.js"></script>

<script src="/js/main.js"></script>

<script src="/js/libs/anime.min.js"></script>


<!-- local-search -->

    
<script src="/js/local-search.js"></script>



<!-- lazyload -->

    
<script src="/js/lazyload.js"></script>



<div class="pjax">
    
        <!-- post-helper -->
        
<script src="/js/post/post-helper.js"></script>


        <!-- toc -->
        
            
<script src="/js/post/toc.js"></script>

        

        <!-- copyright-info -->
        
            
<script src="/js/post/copyright-info.js"></script>

        

        <!-- share -->
        
            
<script src="/js/post/share.js"></script>

        
    

    <!-- categories page -->
    

    <!-- links page -->
    

    <!-- photos page -->
    

    <!-- tools page -->
    
</div>

<!-- mermaid -->


<!-- pjax -->

    
<script src="/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart()
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd()
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'))
            KEEP.initExecute()
        });
    });
</script>





        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>

<script type="text/javascript" src="/js/funnytitle.js"></script>
<script type="text/javascript" src="/js/love.js"></script>
